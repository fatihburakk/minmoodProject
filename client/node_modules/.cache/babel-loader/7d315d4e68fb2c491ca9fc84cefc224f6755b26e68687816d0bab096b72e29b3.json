{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fatih\\\\Desktop\\\\DuyguProjeWeb\\\\duygu_proje_web\\\\client\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s3 = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport { createDiary, getDiaries, deleteDiary, updateDiary } from '../services/diaryService';\nimport { updateProfile, changePassword, deleteAccount } from '../services/authService';\nimport { supabase } from '../lib/supabase';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, BarController, Title, Tooltip, Legend, PieController, ArcElement } from 'chart.js';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport mindmoodLogo from '../assets/minmood.png';\nimport { Line } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, BarController, Title, Tooltip, Legend, PieController, ArcElement, ChartDataLabels);\nconst user = JSON.parse(localStorage.getItem('user'));\nconst today = new Date();\nconst days = ['Pazar', 'Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi'];\nconst months = ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran', 'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'];\n\n// Duygu etiketlerini Türkçe'ye çevirme\nconst emotionLabels = {\n  'admiration': 'Hayranlık',\n  'amusement': 'Eğlence',\n  'anger': 'Öfke',\n  'annoyance': 'Rahatsızlık',\n  'approval': 'Onay',\n  'caring': 'İlgili',\n  'confusion': 'Kafa Karışıklığı',\n  'curiosity': 'Merak',\n  'desire': 'İstek',\n  'disappointment': 'Hayal Kırıklığı',\n  'disapproval': 'Onaylamama',\n  'disgust': 'İğrenme',\n  'embarrassment': 'Utangaçlık',\n  'excitement': 'Heyecan',\n  'fear': 'Korku',\n  'gratitude': 'Minnettarlık',\n  'grief': 'Keder',\n  'joy': 'Mutluluk',\n  'love': 'Sevgi',\n  'nervousness': 'Gerginlik',\n  'optimism': 'İyimserlik',\n  'pride': 'Gurur',\n  'realization': 'Farkındalık',\n  'relief': 'Rahatlık',\n  'remorse': 'Pişmanlık',\n  'sadness': 'Üzüntü',\n  'surprise': 'Şaşkınlık',\n  'neutral': 'Nötr'\n};\nconst dailyQuotes = [\"Duygularınızı kabul edin, onlar sizin rehberinizdir.\", \"Her nefes, yeni bir başlangıç için fırsattır.\", \"Kendinize karşı nazik olun, mükemmel olmak zorunda değilsiniz.\", \"Bugünkü duygularınız, yarının gücünü oluşturur.\", \"Her zorluk, içsel gücünüzü keşfetme fırsatıdır.\", \"Kendinizi dinleyin, içinizdeki ses en doğru rehberdir.\", \"Duygusal farkındalık, içsel huzurun anahtarıdır.\", \"Her gün, kendinizi daha iyi tanıma şansıdır.\", \"Kendinize zaman ayırın, ruhunuz buna değer.\", \"Duygularınızı bastırmayın, onları anlamaya çalışın.\", \"Her deneyim, büyümenize katkı sağlar.\", \"Kendinizi sevmek, en büyük iyilikseverliktir.\", \"Bugünkü duygularınız, yarının bilgeliğidir.\", \"Her an, kendinizi yeniden keşfetme fırsatıdır.\", \"İçsel huzur, dış dünyadaki başarının temelidir.\", \"Duygusal zeka, hayatın en değerli hazinesidir.\", \"Kendinize inanın, potansiyeliniz sınırsızdır.\", \"Her duygu, bir öğrenme ve büyüme fırsatıdır.\", \"Kendinizi kabul etmek, gerçek özgürlüktür.\", \"Bugün, dünün deneyimlerinden öğrenme günüdür.\"];\nconst getDailyQuote = () => {\n  return dailyQuotes[Math.floor(Math.random() * dailyQuotes.length)];\n};\n\n// Kullanıcıyı güvenli şekilde al\nasync function getCurrentUserId() {\n  try {\n    const {\n      data: {\n        user\n      }\n    } = await supabase.auth.getUser();\n    if (user) {\n      return user.id;\n    }\n    return null;\n  } catch (error) {\n    console.error('Kullanıcı ID alınamadı:', error);\n    return null;\n  }\n}\nexport default function Dashboard() {\n  _s3();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  const navigate = useNavigate();\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('home');\n  const [diaryContent, setDiaryContent] = useState('');\n  const [diaryList, setDiaryList] = useState([]);\n  const [selectedDiary, setSelectedDiary] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [editContent, setEditContent] = useState('');\n  const [profile, setProfile] = useState({\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || ''\n  });\n  const [profileEdit, setProfileEdit] = useState(false);\n  const [profileLoading, setProfileLoading] = useState(false);\n  const [passwordModal, setPasswordModal] = useState(false);\n  const [passwords, setPasswords] = useState({\n    old: '',\n    new: ''\n  });\n  const [passwordError, setPasswordError] = useState('');\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [deletePassword, setDeletePassword] = useState('');\n  const [deleteError, setDeleteError] = useState('');\n  const [emotionText, setEmotionText] = useState(\"\");\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [showEmotionPopup, setShowEmotionPopup] = useState(false);\n  const [analyzingEmotion, setAnalyzingEmotion] = useState(false);\n  const [savingEmotion, setSavingEmotion] = useState(false);\n  const [showSavePopup, setShowSavePopup] = useState(false);\n  const [savedEmotions, setSavedEmotions] = useState([]);\n  const [selectedEmotion, setSelectedEmotion] = useState(null);\n  const [emotionRange, setEmotionRange] = useState('week');\n  const [downloadingData, setDownloadingData] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const [isDiaryListening, setIsDiaryListening] = useState(false);\n  const [diaryRecognition, setDiaryRecognition] = useState(null);\n  const [currentQuote, setCurrentQuote] = useState(getDailyQuote());\n  const [dailyEmotions, setDailyEmotions] = useState([]);\n  useEffect(() => {\n    if (activeTab === 'diary') {\n      getCurrentUserId().then(userId => {\n        if (userId) {\n          getDiaries(userId).then(({\n            data\n          }) => {\n            setDiaryList(data || []);\n          });\n        }\n      });\n    }\n  }, [activeTab]);\n  useEffect(() => {\n    if (activeTab === 'emotions' || activeTab === 'stats') {\n      fetchSavedEmotions();\n    }\n  }, [activeTab]);\n  useEffect(() => {\n    // Web Speech API'yi başlat\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'tr-TR';\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setEmotionText(prev => prev + ' ' + transcript);\n        setIsListening(false);\n      };\n      recognition.onerror = event => {\n        console.error('Ses tanıma hatası:', event.error);\n        setIsListening(false);\n      };\n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      setRecognition(recognition);\n    }\n  }, []);\n  useEffect(() => {\n    // Günlük için Web Speech API'yi başlat\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'tr-TR';\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setDiaryContent(prev => prev + ' ' + transcript);\n        setIsDiaryListening(false);\n      };\n      recognition.onerror = event => {\n        console.error('Ses tanıma hatası:', event.error);\n        setIsDiaryListening(false);\n      };\n      recognition.onend = () => {\n        setIsDiaryListening(false);\n      };\n      setDiaryRecognition(recognition);\n    }\n  }, []);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentQuote(getDailyQuote());\n    }, 60000); // 60000 ms = 1 minute\n\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    let channel;\n    let isMounted = true;\n    const setupRealtime = async () => {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n\n        // Önceki kanalı temizle\n        if (channel) {\n          await supabase.removeChannel(channel);\n        }\n\n        // Yeni kanal oluştur\n        channel = supabase.channel('diary-realtime').on('postgres_changes', {\n          event: '*',\n          schema: 'public',\n          table: 'diaries',\n          filter: `user_id=eq.${userId}`\n        }, payload => {\n          console.log('Günlük realtime değişiklik:', payload);\n          if (!isMounted) return;\n\n          // Silme işlemi\n          if (payload.eventType === 'DELETE') {\n            console.log('Günlük silme işlemi algılandı:', payload.old.id);\n            setDiaryList(prev => prev.filter(item => item.id !== payload.old.id));\n            if (selectedDiary && selectedDiary.id === payload.old.id) {\n              setSelectedDiary(null);\n              setModalOpen(false);\n            }\n          }\n          // Ekleme işlemi\n          else if (payload.eventType === 'INSERT') {\n            console.log('Günlük ekleme işlemi algılandı:', payload.new);\n            setDiaryList(prev => [payload.new, ...prev]);\n          }\n          // Güncelleme işlemi\n          else if (payload.eventType === 'UPDATE') {\n            console.log('Günlük güncelleme işlemi algılandı:', payload.new);\n            setDiaryList(prev => prev.map(item => item.id === payload.new.id ? payload.new : item));\n            if (selectedDiary && selectedDiary.id === payload.new.id) {\n              setSelectedDiary(payload.new);\n            }\n          }\n        }).subscribe(status => {\n          console.log('Günlük subscription status:', status);\n          if (status === 'SUBSCRIBED') {\n            // İlk yükleme\n            getCurrentUserId().then(userId => {\n              if (userId) {\n                getDiaries(userId).then(({\n                  data\n                }) => {\n                  setDiaryList(data || []);\n                });\n              }\n            });\n          }\n        });\n      } catch (error) {\n        console.error('Günlük realtime subscription hatası:', error);\n      }\n    };\n\n    // Günlük sekmesi aktifse subscription'ı başlat\n    if (activeTab === 'diary') {\n      setupRealtime();\n    }\n\n    // Cleanup\n    return () => {\n      isMounted = false;\n      if (channel) {\n        supabase.removeChannel(channel);\n      }\n    };\n  }, [activeTab]);\n  const toggleListening = () => {\n    if (!recognition) {\n      alert('Tarayıcınız ses tanıma özelliğini desteklemiyor.');\n      return;\n    }\n    if (isListening) {\n      recognition.stop();\n    } else {\n      try {\n        recognition.start();\n        setIsListening(true);\n      } catch (error) {\n        console.error('Ses tanıma başlatma hatası:', error);\n        setIsListening(false);\n      }\n    }\n  };\n  const toggleDiaryListening = () => {\n    if (!diaryRecognition) {\n      alert('Tarayıcınız ses tanıma özelliğini desteklemiyor.');\n      return;\n    }\n    if (isDiaryListening) {\n      diaryRecognition.stop();\n    } else {\n      try {\n        diaryRecognition.start();\n        setIsDiaryListening(true);\n      } catch (error) {\n        console.error('Ses tanıma başlatma hatası:', error);\n        setIsDiaryListening(false);\n      }\n    }\n  };\n  const fetchSavedEmotions = async () => {\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        setSavedEmotions([]);\n        return;\n      }\n      const {\n        data,\n        error\n      } = await supabase.from('emotions').select('*').eq('user_id', userId).order('created_at', {\n        ascending: false\n      });\n      if (error) throw error;\n      const fixedEmotions = (data || []).map(item => {\n        let emotionsArr = [];\n        if (Array.isArray(item.emotions)) {\n          emotionsArr = item.emotions;\n        } else if (typeof item.emotions === 'string') {\n          try {\n            emotionsArr = JSON.parse(item.emotions);\n          } catch (e) {\n            emotionsArr = [];\n          }\n        } else if (item.emotions && typeof item.emotions === 'object') {\n          emotionsArr = [item.emotions];\n        }\n        return {\n          ...item,\n          emotions: emotionsArr\n        };\n      });\n      setSavedEmotions(fixedEmotions);\n      console.log('savedEmotions:', fixedEmotions);\n    } catch (error) {\n      console.error('Duygular yüklenirken hata:', error);\n    }\n  };\n  const handleDiarySubmit = async () => {\n    if (diaryContent.trim() !== '') {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n        const {\n          error\n        } = await createDiary(diaryContent, userId);\n        if (!error) {\n          const {\n            data\n          } = await getDiaries(userId);\n          setDiaryList(data || []);\n          setDiaryContent('');\n        } else {\n          console.error('Günlük kaydedilirken hata:', error);\n        }\n      } catch (error) {\n        console.error('Günlük kaydedilirken beklenmeyen hata:', error);\n      }\n    }\n  };\n  const handleDeleteDiary = async id => {\n    const userId = await getCurrentUserId();\n    if (!userId) {\n      console.error('Kullanıcı ID bulunamadı');\n      return;\n    }\n    await deleteDiary(id, userId);\n    const {\n      data\n    } = await getDiaries(userId);\n    setDiaryList(data || []);\n  };\n  const handleEditDiary = entry => {\n    setSelectedDiary(entry);\n    setEditContent(entry.content);\n    setEditMode(true);\n    setModalOpen(true);\n  };\n  const handleUpdateDiary = async () => {\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        console.error('Kullanıcı ID bulunamadı');\n        return;\n      }\n      const {\n        error\n      } = await updateDiary(selectedDiary.id, editContent, userId);\n      if (error) {\n        console.error('Günlük güncellenirken hata:', error);\n        return;\n      }\n      setEditMode(false);\n      setModalOpen(false);\n      const {\n        data\n      } = await getDiaries(userId);\n      setDiaryList(data || []);\n    } catch (error) {\n      console.error('Günlük güncellenirken beklenmeyen hata:', error);\n    }\n  };\n  const handleProfileSave = async () => {\n    setProfileLoading(true);\n    try {\n      const {\n        error\n      } = await updateProfile(profile);\n      if (error) {\n        console.error('Profil güncellenirken hata:', error);\n        return;\n      }\n      setProfileEdit(false);\n      localStorage.setItem('user', JSON.stringify({\n        ...user,\n        username: profile.username,\n        email: profile.email\n      }));\n    } catch (error) {\n      console.error('Profil güncellenirken beklenmeyen hata:', error);\n    } finally {\n      setProfileLoading(false);\n    }\n  };\n  const handlePasswordChange = async () => {\n    setPasswordError('');\n    if (!passwords.new || passwords.new.length < 6) {\n      setPasswordError('Şifre en az 6 karakter olmalı.');\n      return;\n    }\n    const {\n      error\n    } = await changePassword(passwords.new);\n    if (!error) {\n      setPasswordModal(false);\n      setPasswords({\n        old: '',\n        new: ''\n      });\n    } else {\n      setPasswordError('Şifre değiştirilemedi.');\n    }\n  };\n  const handleDeleteAccount = async () => {\n    setDeleteError('');\n    // Gerçek silme için admin yetkisi gerekir, burada sadece çıkış yapıyoruz.\n    await deleteAccount();\n    localStorage.removeItem('user');\n    navigate('/');\n  };\n  const handleEmotionAnalyze = async () => {\n    if (!emotionText.trim()) {\n      setEmotionResult({\n        error: \"Lütfen analiz edilecek bir metin girin.\"\n      });\n      setShowEmotionPopup(true);\n      return;\n    }\n    setAnalyzingEmotion(true);\n    try {\n      console.log('Duygu analizi isteği gönderiliyor:', emotionText);\n\n      // Türkçe metni MyMemory API ile İngilizce'ye çevir\n      console.log('MyMemory Translation API isteği gönderiliyor...');\n      const translateResponse = await fetch('https://api.mymemory.translated.net/get?q=' + encodeURIComponent(emotionText) + '&langpair=tr|en');\n      const translateData = await Promise.race([translateResponse.json(), new Promise((_, reject) => setTimeout(() => reject(new Error('MyMemory API Timeout')), 10000))]);\n      let translatedText = translateData.responseData.translatedText;\n      if (!translatedText) {\n        console.log('MyMemory çeviri başarısız, orijinal metin kullanılıyor:', emotionText);\n        translatedText = emotionText;\n      }\n      console.log('Çevrilen metin:', translatedText);\n\n      // Hugging Face duygu analizi\n      const hfResponse = await fetch('https://api-inference.huggingface.co/models/SamLowe/roberta-base-go_emotions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer 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'\n        },\n        body: JSON.stringify({\n          inputs: translatedText\n        })\n      });\n      const hfData = await Promise.race([hfResponse.json(), new Promise((_, reject) => setTimeout(() => reject(new Error('Hugging Face API Timeout')), 20000))]);\n      console.log('Hugging Face Raw Data:', hfData);\n\n      // Duyguları filtrele ve sırala (0.1 eşik değeri ile)\n      const filteredResults = hfData[0].filter(emotion => emotion.score > 0.1).sort((a, b) => b.score - a.score);\n\n      // Duygu etiketlerini Türkçe'ye çevir\n      const translatedResults = filteredResults.map(result => ({\n        label: emotionLabels[result.label] || result.label,\n        score: result.score,\n        intensity: result.score * 100\n      }));\n\n      // Detaylı açıklama oluştur\n      let detail = '';\n      if (translatedResults.length === 0) {\n        detail = 'Metinde belirgin bir duygu ifadesi bulunamadı.';\n      } else {\n        const emotionTexts = translatedResults.map(emotion => `${emotion.label} (${emotion.intensity.toFixed(0)}%)`);\n        detail = `Metinde ${emotionTexts.join(', ')} duyguları tespit edildi.`;\n      }\n      const formattedResponse = [{\n        emotions: translatedResults,\n        details: {\n          description: detail,\n          originalText: emotionText,\n          translatedText: translatedText,\n          rawEmotions: hfData[0]\n        }\n      }];\n      setEmotionResult(formattedResponse);\n      setShowEmotionPopup(true);\n    } catch (error) {\n      console.error('Duygu analizi hatası:', error);\n      setEmotionResult({\n        error: error.message || \"Analiz başarısız oldu. Lütfen tekrar deneyin.\",\n        details: \"Beklenmeyen bir hata oluştu. Lütfen daha sonra tekrar deneyin.\"\n      });\n      setShowEmotionPopup(true);\n    } finally {\n      setAnalyzingEmotion(false);\n    }\n  };\n  const handleSaveEmotion = async () => {\n    const userId = await getCurrentUserId();\n    if (!emotionResult || !emotionText.trim() || !userId) {\n      return;\n    }\n    setSavingEmotion(true);\n    try {\n      const {\n        error\n      } = await supabase.from('emotions').insert([{\n        user_id: userId,\n        text: emotionText,\n        emotions: emotionResult[0].emotions,\n        created_at: new Date().toISOString()\n      }]);\n      if (error) throw error;\n      setShowSavePopup(true);\n      setEmotionText('');\n      setEmotionResult(null);\n      setShowEmotionPopup(false);\n      fetchSavedEmotions();\n    } catch (error) {\n      console.error('Duygu kaydetme hatası:', error);\n      alert('Duygular kaydedilirken bir hata oluştu.');\n    } finally {\n      setSavingEmotion(false);\n    }\n  };\n  const formatScore = score => {\n    if (typeof score !== 'number' || isNaN(score)) return 'Bilinmiyor';\n    return `${(score * 100).toFixed(2)}%`;\n  };\n  const handleDeleteEmotion = async id => {\n    if (!window.confirm('Bu kaydı silmek istediğinize emin misiniz?')) return;\n    try {\n      const {\n        error\n      } = await supabase.from('emotions').delete().eq('id', id);\n      if (error) throw error;\n\n      // State'i güncelle\n      setSavedEmotions(prev => prev.filter(item => item.id !== id));\n      if (selectedEmotion && selectedEmotion.id === id) {\n        setSelectedEmotion(null);\n      }\n\n      // Başarılı silme mesajı\n      alert('Kayıt başarıyla silindi');\n    } catch (error) {\n      console.error('Silme hatası:', error);\n      alert('Silme işlemi sırasında hata oluştu.');\n    }\n  };\n  const handleDownloadData = async () => {\n    setDownloadingData(true);\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        alert('Kullanıcı bilgisi bulunamadı.');\n        return;\n      }\n\n      // Günlük verilerini al\n      const {\n        data: diaryData\n      } = await getDiaries(userId);\n\n      // Duygu analizi verilerini al\n      const {\n        data: emotionData\n      } = await supabase.from('emotions').select('*').eq('user_id', userId).order('created_at', {\n        ascending: false\n      });\n\n      // PDF oluştur\n      const doc = new jsPDF();\n\n      // Başlık\n      doc.setFontSize(16);\n      doc.text('MindMood - Veri Raporu', 20, 20);\n      doc.setFontSize(10);\n      doc.text(`Oluşturulma Tarihi: ${new Date().toLocaleDateString('tr-TR')}`, 20, 30);\n\n      // Kullanıcı Bilgileri\n      doc.setFontSize(12);\n      doc.text('Kullanıcı Bilgileri:', 20, 40);\n      doc.setFontSize(10);\n      doc.text(`Kullanıcı Adı: ${profile.username || (user === null || user === void 0 ? void 0 : user.username)}`, 20, 50);\n      doc.text(`E-posta: ${profile.email || (user === null || user === void 0 ? void 0 : user.email)}`, 20, 55);\n      let yPosition = 70;\n\n      // Günlük Kayıtları\n      if (diaryData && diaryData.length > 0) {\n        doc.setFontSize(12);\n        doc.text('Günlük Kayıtları:', 20, yPosition);\n        yPosition += 10;\n        diaryData.forEach((entry, index) => {\n          if (yPosition > 270) {\n            doc.addPage();\n            yPosition = 20;\n          }\n          doc.setFontSize(10);\n          const date = new Date(entry.created_at).toLocaleDateString('tr-TR');\n          doc.text(`Tarih: ${date}`, 20, yPosition);\n          yPosition += 5;\n\n          // İçeriği satırlara böl\n          const contentLines = doc.splitTextToSize(entry.content, 170);\n          contentLines.forEach(line => {\n            if (yPosition > 270) {\n              doc.addPage();\n              yPosition = 20;\n            }\n            doc.text(line, 20, yPosition);\n            yPosition += 5;\n          });\n          yPosition += 5;\n        });\n      }\n\n      // Duygu Analizleri\n      if (emotionData && emotionData.length > 0) {\n        if (yPosition > 250) {\n          doc.addPage();\n          yPosition = 20;\n        }\n        doc.setFontSize(12);\n        doc.text('Duygu Analizleri:', 20, yPosition);\n        yPosition += 10;\n        emotionData.forEach((emotion, index) => {\n          if (yPosition > 270) {\n            doc.addPage();\n            yPosition = 20;\n          }\n          doc.setFontSize(10);\n          const date = new Date(emotion.created_at).toLocaleDateString('tr-TR');\n          doc.text(`Tarih: ${date}`, 20, yPosition);\n          yPosition += 5;\n\n          // Metni satırlara böl\n          const textLines = doc.splitTextToSize(emotion.text, 170);\n          textLines.forEach(line => {\n            if (yPosition > 270) {\n              doc.addPage();\n              yPosition = 20;\n            }\n            doc.text(line, 20, yPosition);\n            yPosition += 5;\n          });\n\n          // Duyguları ekle\n          if (emotion.emotions && Array.isArray(emotion.emotions)) {\n            const emotionsText = emotion.emotions.map(e => `${e.label}: ${(e.score * 100).toFixed(2)}%`).join(', ');\n            const emotionLines = doc.splitTextToSize(emotionsText, 170);\n            emotionLines.forEach(line => {\n              if (yPosition > 270) {\n                doc.addPage();\n                yPosition = 20;\n              }\n              doc.text(line, 20, yPosition);\n              yPosition += 5;\n            });\n          }\n          yPosition += 5;\n        });\n      }\n\n      // PDF'i indir\n      doc.save(`mindmood_rapor_${new Date().toISOString().split('T')[0]}.pdf`);\n      alert('Raporunuz başarıyla indirildi!');\n    } catch (error) {\n      console.error('Rapor oluşturma hatası:', error);\n      alert('Rapor oluşturulurken bir hata oluştu. Lütfen tekrar deneyin.');\n    } finally {\n      setDownloadingData(false);\n    }\n  };\n  const renderEmotionPopup = () => {\n    if (!showEmotionPopup) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-xl p-8 shadow-2xl text-center max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-[#7c1fa0]\",\n            children: \"Duygu Analizi Sonucu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowEmotionPopup(false);\n              setEmotionText('');\n            },\n            className: \"text-[#7c1fa0] hover:text-[#ee00ee] transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this), emotionResult !== null && emotionResult !== void 0 && emotionResult.error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold\",\n            children: emotionResult.error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this), emotionResult.details && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mt-2 text-gray-600\",\n            children: emotionResult.details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowEmotionPopup(false);\n              setEmotionText('');\n            },\n            className: \"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\",\n            children: \"Tekrar Dene\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 13\n        }, this) : emotionResult && Array.isArray(emotionResult) && emotionResult.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [emotionResult[0].emotions.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold text-[#7c1fa0] mb-4\",\n            children: [emotionResult[0].emotions.length, \" Duygu Tespit Edildi:\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 827,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 mb-6\",\n            children: emotionResult[0].emotions.map((emotion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/50 p-3 rounded-lg border border-[#ee00ee]/20\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-[#7c1fa0]\",\n                  children: \"Duygu:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 23\n                }, this), \" \", emotion.label, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mx-2\",\n                  children: \"\\u2013\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-[#7c1fa0]\",\n                  children: \"Oran:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 23\n                }, this), \" \", formatScore(emotion.score)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 831,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowEmotionPopup(false);\n                setEmotionText('');\n              },\n              className: \"flex-1 px-6 py-2 bg-[#ee00ee] text-white rounded-lg hover:bg-[#7c1fa0] transition-colors\",\n              children: \"Yeni Analiz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSaveEmotion,\n              disabled: savingEmotion,\n              className: \"flex-1 px-6 py-2 bg-[#7c1fa0] text-white rounded-lg hover:bg-[#ee00ee] transition-colors disabled:opacity-60\",\n              className: \"px-6 py-2 bg-[#7c1fa0] text-white rounded-lg hover:bg-[#ee00ee] transition-colors disabled:opacity-60\",\n              children: savingEmotion ? \"Kaydediliyor...\" : \"Kaydet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 825,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500\",\n            children: \"Sonu\\xE7 al\\u0131namad\\u0131.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowEmotionPopup(false);\n              setEmotionText('');\n            },\n            className: \"mt-4 px-4 py-2 bg-[#ee00ee] text-white rounded-lg hover:bg-[#7c1fa0] transition-colors\",\n            children: \"Tekrar Dene\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 865,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 863,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 792,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 7\n    }, this);\n  };\n  function getEmotionColor(emotion) {\n    const colors = {\n      'Mutluluk': '#FFD700',\n      // parlak altın sarısı\n      'Üzüntü': '#4682B4',\n      // soğuk çelik mavisi\n      'Öfke': '#FF4500',\n      // canlı turuncu-kırmızı\n      'Korku': '#800080',\n      // koyu mor\n      'Şaşkınlık': '#FF69B4',\n      // parlak pembe\n      'İğrenme': '#228B22',\n      // orman yeşili\n      'Nötr': '#808080',\n      // sade gri\n      'Sevgi': '#FF1493',\n      // sıcak pembe\n      'Hayranlık': '#00CED1',\n      // koyu turkuaz\n      'Eğlence': '#FFA500',\n      // canlı turuncu\n      'Rahatsızlık': '#A0522D',\n      // yoğun kahverengi\n      'Onay': '#32CD32',\n      // limon yeşili\n      'İlgili': '#20B2AA',\n      // açık deniz mavisi\n      'Kafa Karışıklığı': '#BA55D3',\n      // orkide moru\n      'Merak': '#FF6347',\n      // domates kırmızısı\n      'İstek': '#FF8C00',\n      // koyu turuncu\n      'Hayal Kırıklığı': '#8B4513',\n      // koyu kahverengi\n      'Onaylamama': '#DC143C',\n      // kiraz kırmızısı\n      'Utangaçlık': '#DB7093',\n      // soluk pembe\n      'Heyecan': '#FF6347',\n      // domates kırmızısı\n      'Minnettarlık': '#DAA520',\n      // altın kahverengi\n      'Keder': '#4B0082',\n      // çivit moru\n      'Gerginlik': '#B22222',\n      // ateş kırmızısı\n      'İyimserlik': '#00FF7F',\n      // yayla yeşili\n      'Gurur': '#FF7F50',\n      // mercan rengi\n      'Farkındalık': '#1E90FF',\n      // dodger blue\n      'Rahatlık': '#98FB98',\n      // soluk yeşil\n      'Pişmanlık': '#C71585' // orta menekşe\n    };\n    return colors[emotion] || `hsl(${Math.random() * 360}, 70%, 50%)`;\n  }\n  const EmotionStackedBarChart = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_s(({\n    data\n  }) => {\n    _s();\n    const chartRef = React.useRef(null);\n    const [chartInstance, setChartInstance] = React.useState(null);\n    React.useEffect(() => {\n      if (!data || !data.labels || !data.datasets || data.labels.length === 0) return;\n      const ctx = chartRef.current.getContext('2d');\n      if (chartInstance) chartInstance.destroy();\n      const newChart = new ChartJS(ctx, {\n        type: 'bar',\n        data: data,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'top'\n            },\n            tooltip: {\n              callbacks: {\n                label: function (context) {\n                  let label = context.dataset.label || '';\n                  if (label) label += ': ';\n                  if (context.parsed.y !== null) label += context.parsed.y.toFixed(1) + '%';\n                  return label;\n                }\n              }\n            }\n          },\n          scales: {\n            x: {\n              stacked: true,\n              title: {\n                display: true,\n                text: 'Tarih'\n              }\n            },\n            y: {\n              stacked: true,\n              beginAtZero: true,\n              max: 100,\n              title: {\n                display: true,\n                text: 'Yoğunluk (%)'\n              }\n            }\n          }\n        }\n      });\n      setChartInstance(newChart);\n      return () => {\n        if (newChart) newChart.destroy();\n      };\n    }, [data]);\n    if (!data || !data.labels || !data.datasets || data.labels.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Grafik verisi y\\xFCklenemedi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full relative\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: chartRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 52\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 957,\n      columnNumber: 12\n    }, this);\n  }, \"mxEuazXhvYq3z2SUX35ki5IOCuY=\")), \"mxEuazXhvYq3z2SUX35ki5IOCuY=\");\n  function prepareStackedBarData(emotions) {\n    if (!emotions || emotions.length === 0) return {\n      labels: [],\n      datasets: []\n    };\n    const sorted = [...emotions].sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n    const labels = sorted.map(entry => new Date(entry.created_at).toLocaleDateString('tr-TR'));\n    const emotionLabels = Array.from(new Set(sorted.flatMap(e => (Array.isArray(e.emotions) ? e.emotions : []).map(em => em.label))));\n    const datasets = emotionLabels.map(label => {\n      return {\n        label,\n        data: sorted.map(entry => {\n          const arr = Array.isArray(entry.emotions) ? entry.emotions : [];\n          const found = arr.find(e => e.label === label);\n          // Tek ondalık basamakla formatla\n          return found ? parseFloat((found.score * 100).toFixed(1)) : 0;\n        }),\n        backgroundColor: getEmotionColor(label),\n        borderColor: getEmotionColor(label),\n        borderWidth: 1\n      };\n    });\n    return {\n      labels,\n      datasets\n    };\n  }\n  function filterEmotionsByRange(emotions, range) {\n    if (!emotions || emotions.length === 0) return [];\n    const now = new Date();\n    let startDate;\n    if (range === 'week') {\n      startDate = new Date(now);\n      startDate.setDate(now.getDate() - 6); // Son 7 gün\n    } else if (range === 'month') {\n      startDate = new Date(now);\n      startDate.setMonth(now.getMonth() - 1); // Son 1 ay\n    } else {\n      return emotions;\n    }\n    return emotions.filter(entry => new Date(entry.created_at) >= startDate);\n  }\n  const EmotionPieChart = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_s2(({\n    data\n  }) => {\n    _s2();\n    const chartRef = React.useRef(null);\n    const [chartInstance, setChartInstance] = React.useState(null);\n    React.useEffect(() => {\n      if (!data || !data.labels || !data.datasets || data.labels.length === 0) return;\n      const ctx = chartRef.current.getContext('2d');\n      if (chartInstance) chartInstance.destroy();\n      const newChart = new ChartJS(ctx, {\n        type: 'pie',\n        data: data,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: {\n              position: 'right'\n            },\n            tooltip: {\n              callbacks: {\n                label: function (context) {\n                  let label = context.label || '';\n                  if (label) label += ': ';\n                  if (context.parsed !== null) label += context.parsed + ' kez';\n                  return label;\n                }\n              }\n            },\n            datalabels: {\n              color: '#fff',\n              font: {\n                weight: 'bold',\n                size: 14\n              },\n              formatter: (value, context) => {\n                const label = context.chart.data.labels[context.dataIndex];\n                const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);\n                const percent = total > 0 ? Math.round(value / total * 100) : 0;\n                return `${label}\\n${percent}%`;\n              },\n              textAlign: 'center',\n              anchor: 'center',\n              clamp: true\n            }\n          },\n          animation: {\n            duration: 2000,\n            easing: 'easeInOutQuart'\n          }\n        },\n        plugins: [ChartDataLabels]\n      });\n      setChartInstance(newChart);\n      return () => {\n        if (newChart) newChart.destroy();\n      };\n    }, [data]);\n    if (!data || !data.labels || !data.datasets || data.labels.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Grafik verisi y\\xFCklenemedi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full relative\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: chartRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 52\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 12\n    }, this);\n  }, \"mxEuazXhvYq3z2SUX35ki5IOCuY=\")), \"mxEuazXhvYq3z2SUX35ki5IOCuY=\");\n  function preparePieChartData(emotions) {\n    if (!emotions || emotions.length === 0) return {\n      labels: [],\n      datasets: []\n    };\n    const counts = {};\n    emotions.forEach(entry => (Array.isArray(entry.emotions) ? entry.emotions : []).forEach(e => {\n      counts[e.label] = (counts[e.label] || 0) + 1;\n    }));\n    const labels = Object.keys(counts);\n    const data = Object.values(counts);\n    return {\n      labels,\n      datasets: [{\n        data,\n        backgroundColor: labels.map(label => getEmotionColor(label)),\n        borderColor: '#fff',\n        borderWidth: 2\n      }]\n    };\n  }\n\n  // GÜNCEL: Duygular için realtime subscription\n  useEffect(() => {\n    let channel;\n    let isMounted = true;\n    const setupRealtime = async () => {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n\n        // Önceki kanalı temizle\n        if (channel) {\n          await supabase.removeChannel(channel);\n        }\n\n        // Yeni kanal oluştur\n        channel = supabase.channel('emotions-realtime').on('postgres_changes', {\n          event: '*',\n          schema: 'public',\n          table: 'emotions',\n          filter: `user_id=eq.${userId}`\n        }, payload => {\n          console.log('Realtime değişiklik:', payload);\n          if (!isMounted) return;\n\n          // Silme işlemi\n          if (payload.eventType === 'DELETE') {\n            console.log('Silme işlemi algılandı:', payload.old.id);\n            setSavedEmotions(prev => prev.filter(item => item.id !== payload.old.id));\n            if (selectedEmotion && selectedEmotion.id === payload.old.id) {\n              setSelectedEmotion(null);\n            }\n          }\n          // Ekleme işlemi\n          else if (payload.eventType === 'INSERT') {\n            console.log('Ekleme işlemi algılandı:', payload.new);\n            setSavedEmotions(prev => [payload.new, ...prev]);\n          }\n          // Güncelleme işlemi\n          else if (payload.eventType === 'UPDATE') {\n            console.log('Güncelleme işlemi algılandı:', payload.new);\n            setSavedEmotions(prev => prev.map(item => item.id === payload.new.id ? payload.new : item));\n          }\n        }).subscribe(status => {\n          console.log('Subscription status:', status);\n          if (status === 'SUBSCRIBED') {\n            // İlk yükleme\n            fetchSavedEmotions();\n          }\n        });\n      } catch (error) {\n        console.error('Realtime subscription hatası:', error);\n      }\n    };\n\n    // Duygular sekmesi aktifse subscription'ı başlat\n    if (activeTab === 'emotions') {\n      setupRealtime();\n    }\n\n    // Cleanup\n    return () => {\n      isMounted = false;\n      if (channel) {\n        supabase.removeChannel(channel);\n      }\n    };\n  }, [activeTab]);\n\n  // Günlük duygu değişim grafiği\n  const renderDailyEmotionChart = () => {\n    if (!dailyEmotions.length) return null;\n    const chartData = {\n      labels: dailyEmotions.map(e => {\n        const date = new Date(e.created_at);\n        return date.toLocaleTimeString('tr-TR', {\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      }),\n      datasets: [{\n        label: 'Duygu Değişimi',\n        data: dailyEmotions.map(e => e.intensity),\n        borderColor: '#4CAF50',\n        backgroundColor: 'rgba(76, 175, 80, 0.1)',\n        borderWidth: 2,\n        fill: true,\n        tension: 0.4,\n        pointRadius: 4,\n        pointHoverRadius: 6\n      }]\n    };\n    const options = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          display: false\n        },\n        tooltip: {\n          callbacks: {\n            label: context => {\n              const emotion = dailyEmotions[context.dataIndex];\n              return [`Duygu: ${emotion.emotion_name}`, `Yoğunluk: ${emotion.intensity}`, `Not: ${emotion.note || 'Yok'}`];\n            }\n          }\n        },\n        zoom: {\n          pan: {\n            enabled: true,\n            mode: 'x',\n            modifierKey: 'ctrl'\n          },\n          zoom: {\n            wheel: {\n              enabled: true,\n              modifierKey: 'ctrl'\n            },\n            pinch: {\n              enabled: true\n            },\n            mode: 'x'\n          },\n          limits: {\n            x: {\n              min: 'original',\n              max: 'original'\n            }\n          }\n        }\n      },\n      scales: {\n        x: {\n          grid: {\n            display: false\n          },\n          ticks: {\n            maxRotation: 45,\n            minRotation: 45\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 10,\n          grid: {\n            color: 'rgba(0, 0, 0, 0.1)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'index',\n        intersect: false\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"G\\xFCnl\\xFCk Duygu De\\u011Fi\\u015Fimi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        style: {\n          height: '300px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          data: chartData,\n          options: options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 text-sm text-gray-500 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Grafi\\u011Fi kayd\\u0131rmak i\\xE7in CTRL tu\\u015Funa bas\\u0131l\\u0131 tutarak fare tekerle\\u011Fini kullan\\u0131n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"veya dokunmatik ekranda iki parmakla kayd\\u0131r\\u0131n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1250,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1243,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex bg-gradient-to-br from-[#ee00ee] to-[#7c1fa0] font-sans transition-colors duration-700 relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 flex flex-col items-center py-10 bg-white/90 shadow-2xl rounded-tr-3xl rounded-br-3xl animate-fade-in-left relative z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-3xl font-extrabold text-[#ee00ee] tracking-wide drop-shadow-lg\",\n          children: \"MindMood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1261,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mindmoodLogo,\n        alt: \"MindMood Logo\",\n        className: \"w-20 h-20 object-contain mb-8 rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex flex-col gap-6 w-full mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"home\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1265,\n            columnNumber: 30\n          }, this),\n          label: \"Ana Sayfa\",\n          active: activeTab === 'home',\n          onClick: () => setActiveTab('home')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"smile\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\uD83D\\uDE0A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1266,\n            columnNumber: 30\n          }, this),\n          label: \"Duygular\\u0131m\",\n          active: activeTab === 'emotions',\n          onClick: () => setActiveTab('emotions')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"notebook\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\uD83D\\uDCD4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1267,\n            columnNumber: 30\n          }, this),\n          label: \"G\\xFCnl\\xFCk\",\n          active: activeTab === 'diary',\n          onClick: () => setActiveTab('diary')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"chart\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1268,\n            columnNumber: 30\n          }, this),\n          label: \"Analiz\",\n          active: activeTab === 'stats',\n          onClick: () => setActiveTab('stats')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"settings\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1269,\n            columnNumber: 30\n          }, this),\n          label: \"Ayarlar\",\n          active: activeTab === 'settings',\n          onClick: () => setActiveTab('settings')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SidebarIcon, {\n          icon: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"logout\",\n            className: \"text-[#ee00ee]\",\n            children: \"\\u21A9\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1270,\n            columnNumber: 30\n          }, this),\n          label: \"\\xC7\\u0131k\\u0131\\u015F Yap\",\n          onClick: () => {\n            localStorage.removeItem('user');\n            navigate('/');\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 flex flex-col items-center justify-center px-4 py-10 relative animate-fade-in-up z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-8 right-12 flex items-center gap-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 px-6 py-2 rounded-full flex items-center gap-2 text-lg shadow text-[#ee00ee] font-semibold animate-fade-in border-2 border-[#ee00ee]\",\n          children: [today.getDate(), \" \", months[today.getMonth()], \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold\",\n            children: days[today.getDay()]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1277,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1276,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1275,\n        columnNumber: 9\n      }, this), activeTab === 'home' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-center mb-4 animate-fade-in-up border-2 border-[#ee00ee]\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold text-[#7c1fa0] mb-2\",\n            children: \"Ho\\u015F Geldiniz!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-extrabold text-[#ee00ee] mt-2\",\n            children: profile.username || (user === null || user === void 0 ? void 0 : user.username) || 'Kullanıcı'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-[#7c1fa0] mb-2 mt-2\",\n            children: \"Bug\\xFCn nas\\u0131l hissediyorsunuz?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-center italic text-[#ee00ee] font-medium mt-4\",\n            children: [\"\\\"\", currentQuote, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-center mb-4 animate-fade-in-up border-2 border-[#ee00ee]\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-[#7c1fa0] mb-4\",\n            children: \"Duygu Analizi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: emotionText,\n              onChange: e => setEmotionText(e.target.value),\n              placeholder: \"Duygular\\u0131n\\u0131z\\u0131 buraya yaz\\u0131n...\",\n              className: \"w-full min-h-32 max-h-60 px-6 py-4 rounded-xl bg-white border-2 border-[#ee00ee] text-[#7c1fa0] placeholder-[#ee00ee] focus:outline-none focus:ring-2 focus:ring-[#ee00ee] transition-all mb-4 shadow resize-y overflow-x-hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1292,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleListening,\n              className: `absolute right-4 top-4 p-2 rounded-full transition-all ${isListening ? 'bg-red-500 hover:bg-red-600 animate-pulse' : 'bg-[#ee00ee] hover:bg-[#7c1fa0]'}`,\n              title: isListening ? 'Dinlemeyi Durdur' : 'Sesli Giriş',\n              children: isListening ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-white\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1310,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1308,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-white\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1314,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1313,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1291,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEmotionAnalyze,\n            disabled: analyzingEmotion,\n            className: \"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow-lg hover:scale-105 hover:shadow-2xl hover:from-[#7c1fa0] hover:to-[#ee00ee] transition-all text-lg animate-pulse border-2 border-[#ee00ee] disabled:opacity-60\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 19V6M5 12l7-7 7 7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1324,\n                columnNumber: 160\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1324,\n              columnNumber: 17\n            }, this), analyzingEmotion ? \"Analiz Ediliyor...\" : \"Analiz Et\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1319,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1289,\n          columnNumber: 13\n        }, this), renderEmotionPopup(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-8 mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(AnimatedCard, {\n            delay: 0,\n            className: \"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-4xl mb-2\",\n              children: \"\\uD83D\\uDCD4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-lg\",\n              children: \"G\\xFCnl\\xFCk\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnimatedCard, {\n            delay: 0.15,\n            className: \"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-4xl mb-2\",\n              children: \"\\uD83D\\uDCC8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-lg\",\n              children: \"Geli\\u015Fim Haritas\\u0131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1337,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AnimatedCard, {\n            delay: 0.3,\n            className: \"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-4xl mb-2\",\n              children: \"\\uD83E\\uDDD8\\u200D\\u2642\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-lg\",\n              children: \"Meditasyon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1341,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), activeTab === 'emotions' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-[#7c1fa0] mb-4\",\n          children: \"Duygu Ge\\xE7mi\\u015Fim\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: savedEmotions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: savedEmotions.map((emotion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/90 p-6 rounded-2xl shadow flex flex-col items-start mb-4 border-2 border-[#ee00ee] cursor-pointer hover:scale-105 transition-all relative\",\n              onClick: () => setSelectedEmotion(emotion),\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: e => {\n                  e.stopPropagation();\n                  handleDeleteEmotion(emotion.id);\n                },\n                className: \"absolute top-4 right-4 text-red-500 font-bold text-lg hover:text-red-700\",\n                title: \"Sil\",\n                children: \"Sil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1358,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold text-[#7c1fa0] mb-2\",\n                children: new Date(emotion.created_at).toLocaleDateString('tr-TR')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1363,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-base text-[#222] mb-2\",\n                children: emotion.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1364,\n                columnNumber: 23\n              }, this)]\n            }, emotion.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1351,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Hen\\xFCz kaydedilmi\\u015F duygu analizi bulunmuyor.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1369,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1349,\n          columnNumber: 13\n        }, this), selectedEmotion && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl p-8 border-2 border-[#ee00ee] shadow-2xl max-w-lg w-full relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedEmotion(null),\n              className: \"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1376,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-[#7c1fa0] mb-4\",\n              children: new Date(selectedEmotion.created_at).toLocaleDateString('tr-TR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1380,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-base text-[#222] mb-4\",\n              children: selectedEmotion.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1381,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: selectedEmotion.emotions.map((emotionData, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-lg bg-white/50 p-2 rounded-lg border border-[#ee00ee]/20\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-[#7c1fa0]\",\n                    children: \"Duygu:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1386,\n                    columnNumber: 27\n                  }, this), \" \", emotionData.label, /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"mx-2\",\n                    children: \"\\u2013\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1387,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold text-[#7c1fa0]\",\n                    children: \"Oran:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1388,\n                    columnNumber: 27\n                  }, this), \" \", formatScore(emotionData.score)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1385,\n                  columnNumber: 25\n                }, this)\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1384,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1375,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1374,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1347,\n        columnNumber: 11\n      }, this), activeTab === 'stats' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-5xl flex flex-col items-start mb-8 animate-fade-in-up\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-[#7c1fa0] mb-6\",\n          children: \"Duygu Analizi \\u0130statistikleri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 rounded-lg font-bold border-2 ${emotionRange === 'week' ? 'bg-[#ee00ee] text-white border-[#ee00ee]' : 'bg-white text-[#7c1fa0] border-[#ee00ee]'}`,\n            onClick: () => setEmotionRange('week'),\n            children: \"Haftal\\u0131k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 rounded-lg font-bold border-2 ${emotionRange === 'month' ? 'bg-[#ee00ee] text-white border-[#ee00ee]' : 'bg-white text-[#7c1fa0] border-[#ee00ee]'}`,\n            onClick: () => setEmotionRange('month'),\n            children: \"Ayl\\u0131k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1406,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex flex-col gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#7c1fa0] mb-2\",\n              children: \"En S\\u0131k Duygu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1414,\n              columnNumber: 17\n            }, this), savedEmotions && savedEmotions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-3xl font-bold text-[#ee00ee]\",\n                children: (() => {\n                  const filtered = filterEmotionsByRange(savedEmotions, emotionRange);\n                  const counts = {};\n                  filtered.forEach(entry => (Array.isArray(entry.emotions) ? entry.emotions : []).forEach(e => {\n                    counts[e.label] = (counts[e.label] || 0) + 1;\n                  }));\n                  const max = Object.entries(counts).sort((a, b) => b[1] - a[1])[0];\n                  return max ? `${max[0]} (${max[1]} kez)` : 'Veri yok';\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1417,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1416,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Hen\\xFCz veri yok\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1430,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400 mt-2\",\n                children: \"Duygu analizi yaparak veri ekleyebilirsiniz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1431,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#7c1fa0] mb-4\",\n              children: \"Duygu De\\u011Fi\\u015Fim Grafi\\u011Fi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-4\",\n              children: \"Duygular\\u0131n\\u0131z\\u0131n zaman i\\xE7indeki de\\u011Fi\\u015Fimini ve yo\\u011Funlu\\u011Funu g\\xF6steren y\\u0131\\u011F\\u0131lm\\u0131\\u015F bar grafik.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1438,\n              columnNumber: 17\n            }, this), savedEmotions && savedEmotions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[500px]\",\n              children: /*#__PURE__*/_jsxDEV(EmotionStackedBarChart, {\n                data: prepareStackedBarData(filterEmotionsByRange(savedEmotions, emotionRange))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1442,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Hen\\xFCz veri yok\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1447,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400 mt-2\",\n                children: \"Duygu analizi yaparak veri ekleyebilirsiniz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1448,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1446,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1436,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#7c1fa0] mb-4\",\n              children: \"Duygu Da\\u011F\\u0131l\\u0131m\\u0131 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mb-4\",\n              children: \"Se\\xE7ili aral\\u0131ktaki duygular\\u0131n oranlar\\u0131n\\u0131 pasta grafik olarak g\\xF6rebilirsiniz.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1455,\n              columnNumber: 17\n            }, this), savedEmotions && savedEmotions.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[400px]\",\n              children: /*#__PURE__*/_jsxDEV(EmotionPieChart, {\n                data: preparePieChartData(filterEmotionsByRange(savedEmotions, emotionRange))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1460,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500\",\n                children: \"Hen\\xFCz veri yok\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1464,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-400 mt-2\",\n                children: \"Duygu analizi yaparak veri ekleyebilirsiniz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1465,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1411,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1399,\n        columnNumber: 11\n      }, this), activeTab === 'diary' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-[#7c1fa0] mb-4\",\n            children: \"Duygu G\\xFCnl\\xFC\\u011F\\xFCm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1475,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: diaryContent,\n              onChange: e => setDiaryContent(e.target.value),\n              placeholder: \"Bug\\xFCn neler hissettiniz?\",\n              className: \"w-full min-h-32 max-h-60 px-6 py-4 rounded-xl bg-white border-2 border-[#ee00ee] text-[#7c1fa0] placeholder-[#ee00ee] focus:outline-none focus:ring-2 focus:ring-[#ee00ee] transition-all mb-4 shadow resize-y overflow-x-hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1477,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleDiaryListening,\n              className: `absolute right-4 top-4 p-2 rounded-full transition-all ${isDiaryListening ? 'bg-red-500 hover:bg-red-600 animate-pulse' : 'bg-[#ee00ee] hover:bg-[#7c1fa0]'}`,\n              title: isDiaryListening ? 'Dinlemeyi Durdur' : 'Sesli Giriş',\n              children: isDiaryListening ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-white\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1494,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1495,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1493,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-white\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1499,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1498,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDiarySubmit,\n              className: \"px-8 py-3 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow-lg hover:scale-105 hover:shadow-2xl hover:from-[#7c1fa0] hover:to-[#ee00ee] transition-all text-lg border-2 border-[#ee00ee]\",\n              children: \"Kaydet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1505,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1504,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1474,\n          columnNumber: 13\n        }, this), diaryList.map((entry, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-6 animate-fade-in-up border-2 border-[#ee00ee] cursor-pointer\",\n          onClick: () => {\n            setSelectedDiary(entry);\n            setModalOpen(true);\n            setEditMode(false);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex w-full justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-[#7c1fa0]\",\n              children: new Date(entry.created_at).toLocaleDateString('tr-TR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-[#ee00ee] font-bold px-2 py-1 rounded hover:bg-[#ee00ee]/10\",\n                onClick: e => {\n                  e.stopPropagation();\n                  handleEditDiary(entry);\n                },\n                children: \"D\\xFCzenle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-red-500 font-bold px-2 py-1 rounded hover:bg-red-100\",\n                onClick: e => {\n                  e.stopPropagation();\n                  handleDeleteDiary(entry.id);\n                },\n                children: \"Sil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1528,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1521,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-base text-[#222] truncate\",\n            style: {\n              width: '100%',\n              whiteSpace: 'nowrap',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis'\n            },\n            children: entry.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1534,\n            columnNumber: 17\n          }, this)]\n        }, entry.id || idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1516,\n          columnNumber: 15\n        }, this)), modalOpen && selectedDiary && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee] max-w-lg w-full relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setModalOpen(false);\n                setEditMode(false);\n              },\n              className: \"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1542,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl font-bold text-[#7c1fa0] mb-4\",\n              children: new Date(selectedDiary.created_at).toLocaleDateString('tr-TR')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1543,\n              columnNumber: 19\n            }, this), editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: editContent,\n                onChange: e => setEditContent(e.target.value),\n                className: \"w-full min-h-32 max-h-60 px-4 py-2 rounded-xl border-2 border-[#ee00ee] text-[#7c1fa0] mb-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1546,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUpdateDiary,\n                className: \"px-6 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow hover:scale-105 border-2 border-[#ee00ee]\",\n                children: \"Kaydet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1551,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-base text-[#222] whitespace-pre-line\",\n              children: selectedDiary.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1557,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1541,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1540,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), activeTab === 'settings' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-[#7c1fa0] mb-4\",\n          children: \"Ayarlar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-[#7c1fa0] mb-3\",\n            children: \"Profil Bilgileri\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1570,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-[#7c1fa0] font-semibold mb-1\",\n            children: \"Kullan\\u0131c\\u0131 Ad\\u0131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1571,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: profile.username,\n            disabled: !profileEdit,\n            onChange: e => setProfile({\n              ...profile,\n              username: e.target.value\n            }),\n            className: \"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1572,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-[#7c1fa0] font-semibold mb-1\",\n            children: \"E-posta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1579,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: profile.email,\n            disabled: !profileEdit,\n            onChange: e => setProfile({\n              ...profile,\n              email: e.target.value\n            }),\n            className: \"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mt-2\",\n            children: !profileEdit ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setProfileEdit(true),\n              className: \"px-4 py-2 bg-[#ee00ee] text-white rounded-lg font-bold\",\n              children: \"D\\xFCzenle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1589,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleProfileSave,\n                disabled: profileLoading,\n                className: \"px-4 py-2 bg-[#7c1fa0] text-white rounded-lg font-bold\",\n                children: \"Kaydet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1592,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setProfileEdit(false);\n                  setProfile({\n                    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n                    email: (user === null || user === void 0 ? void 0 : user.email) || ''\n                  });\n                },\n                className: \"px-4 py-2 bg-gray-300 text-[#7c1fa0] rounded-lg font-bold\",\n                children: \"\\u0130ptal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1587,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-[#7c1fa0] mb-3\",\n            children: \"Veri Y\\xF6netimi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1601,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDownloadData,\n              disabled: downloadingData,\n              className: \"w-full px-4 py-2 bg-[#ee00ee] text-white rounded-lg font-bold hover:bg-[#7c1fa0] transition-colors disabled:opacity-60 flex items-center justify-center gap-2\",\n              children: downloadingData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin h-5 w-5 text-white\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1611,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1610,\n                  columnNumber: 23\n                }, this), \"Veriler \\u0130ndiriliyor...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: \"2\",\n                    d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1619,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1618,\n                  columnNumber: 23\n                }, this), \"Verilerimi \\u0130ndir\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-full px-4 py-2 bg-red-500 text-white rounded-lg font-bold\",\n              children: \"T\\xFCm Verilerimi Sil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1625,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1602,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1600,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-[#7c1fa0] mb-3\",\n            children: \"G\\xFCvenlik\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1631,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPasswordModal(true),\n            className: \"w-full px-4 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] text-white rounded-lg font-bold\",\n            children: \"\\u015Eifre De\\u011Fi\\u015Ftir\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1632,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1630,\n          columnNumber: 13\n        }, this), passwordModal && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee] max-w-md w-full relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setPasswordModal(false),\n              className: \"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1639,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-[#7c1fa0] mb-4\",\n              children: \"\\u015Eifre De\\u011Fi\\u015Ftir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1640,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Yeni \\u015Eifre\",\n              value: passwords.new,\n              onChange: e => setPasswords({\n                ...passwords,\n                new: e.target.value\n              }),\n              className: \"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1641,\n              columnNumber: 19\n            }, this), passwordError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-500 mb-2\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1648,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePasswordChange,\n              className: \"px-4 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] text-white rounded-lg font-bold w-full\",\n              children: \"Kaydet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1649,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1638,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1637,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1565,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1257,\n    columnNumber: 5\n  }, this);\n}\n_s3(Dashboard, \"0+SVPPOvzj6KgB0HrE9nJDxuVHE=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nfunction SidebarIcon({\n  icon,\n  label,\n  active,\n  onClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: `flex items-center gap-4 px-6 py-3 rounded-2xl cursor-pointer transition-all border-2 ${active ? 'bg-[#ee00ee] text-white font-bold shadow-lg border-[#ee00ee]' : 'hover:bg-[#ee00ee]/10 text-[#ee00ee] border-transparent'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-10 h-10 flex items-center justify-center rounded-full ${active ? 'bg-white shadow text-[#ee00ee]' : 'bg-white/60 text-[#ee00ee]'} text-2xl transition-all`,\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1666,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-lg font-medium\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1667,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1662,\n    columnNumber: 5\n  }, this);\n}\n_c2 = SidebarIcon;\nfunction AnimatedCard({\n  children,\n  delay = 0,\n  className = ''\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `rounded-xl p-6 w-48 flex flex-col items-center shadow-lg hover:scale-110 hover:rotate-3 hover:glow-border hover:shadow-2xl transition-transform cursor-pointer animate-fade-in-up animated-gradient ${className}`,\n    style: {\n      animationDelay: `${delay}s`\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1674,\n    columnNumber: 5\n  }, this);\n}\n_c3 = AnimatedCard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"SidebarIcon\");\n$RefreshReg$(_c3, \"AnimatedCard\");","map":{"version":3,"names":["useNavigate","React","useState","useEffect","createDiary","getDiaries","deleteDiary","updateDiary","updateProfile","changePassword","deleteAccount","supabase","Chart","ChartJS","CategoryScale","LinearScale","BarElement","BarController","Title","Tooltip","Legend","PieController","ArcElement","ChartDataLabels","jsPDF","mindmoodLogo","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","register","user","JSON","parse","localStorage","getItem","today","Date","days","months","emotionLabels","dailyQuotes","getDailyQuote","Math","floor","random","length","getCurrentUserId","data","auth","getUser","id","error","console","Dashboard","_s3","_s","$RefreshSig$","_s2","navigate","settingsOpen","setSettingsOpen","activeTab","setActiveTab","diaryContent","setDiaryContent","diaryList","setDiaryList","selectedDiary","setSelectedDiary","modalOpen","setModalOpen","editMode","setEditMode","editContent","setEditContent","profile","setProfile","username","email","profileEdit","setProfileEdit","profileLoading","setProfileLoading","passwordModal","setPasswordModal","passwords","setPasswords","old","new","passwordError","setPasswordError","deleteModal","setDeleteModal","deletePassword","setDeletePassword","deleteError","setDeleteError","emotionText","setEmotionText","emotionResult","setEmotionResult","showEmotionPopup","setShowEmotionPopup","analyzingEmotion","setAnalyzingEmotion","savingEmotion","setSavingEmotion","showSavePopup","setShowSavePopup","savedEmotions","setSavedEmotions","selectedEmotion","setSelectedEmotion","emotionRange","setEmotionRange","downloadingData","setDownloadingData","isListening","setIsListening","recognition","setRecognition","isDiaryListening","setIsDiaryListening","diaryRecognition","setDiaryRecognition","currentQuote","setCurrentQuote","dailyEmotions","setDailyEmotions","then","userId","fetchSavedEmotions","window","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","prev","onerror","onend","interval","setInterval","clearInterval","channel","isMounted","setupRealtime","removeChannel","on","schema","table","filter","payload","log","eventType","item","map","subscribe","status","toggleListening","alert","stop","start","toggleDiaryListening","from","select","eq","order","ascending","fixedEmotions","emotionsArr","Array","isArray","emotions","e","handleDiarySubmit","trim","handleDeleteDiary","handleEditDiary","entry","content","handleUpdateDiary","handleProfileSave","setItem","stringify","handlePasswordChange","handleDeleteAccount","removeItem","handleEmotionAnalyze","translateResponse","fetch","encodeURIComponent","translateData","Promise","race","json","_","reject","setTimeout","Error","translatedText","responseData","hfResponse","method","headers","body","inputs","hfData","filteredResults","emotion","score","sort","a","b","translatedResults","result","label","intensity","detail","emotionTexts","toFixed","join","formattedResponse","details","description","originalText","rawEmotions","message","handleSaveEmotion","insert","user_id","text","created_at","toISOString","formatScore","isNaN","handleDeleteEmotion","confirm","delete","handleDownloadData","diaryData","emotionData","doc","setFontSize","toLocaleDateString","yPosition","forEach","index","addPage","date","contentLines","splitTextToSize","line","textLines","emotionsText","emotionLines","save","split","renderEmotionPopup","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","getEmotionColor","colors","EmotionStackedBarChart","memo","chartRef","useRef","chartInstance","setChartInstance","labels","datasets","ctx","current","getContext","destroy","newChart","type","options","responsive","maintainAspectRatio","plugins","legend","position","tooltip","callbacks","context","dataset","parsed","y","scales","x","stacked","title","display","beginAtZero","max","ref","prepareStackedBarData","sorted","Set","flatMap","em","arr","found","find","parseFloat","backgroundColor","borderColor","borderWidth","filterEmotionsByRange","range","now","startDate","setDate","getDate","setMonth","getMonth","EmotionPieChart","datalabels","color","font","weight","size","formatter","value","chart","dataIndex","total","reduce","percent","round","textAlign","anchor","clamp","animation","duration","easing","preparePieChartData","counts","Object","keys","values","renderDailyEmotionChart","chartData","toLocaleTimeString","hour","minute","tension","pointRadius","pointHoverRadius","emotion_name","note","zoom","pan","enabled","mode","modifierKey","wheel","pinch","limits","min","grid","ticks","maxRotation","minRotation","interaction","intersect","style","height","src","alt","SidebarIcon","icon","role","active","getDay","onChange","target","placeholder","width","AnimatedCard","delay","stopPropagation","idx","filtered","entries","whiteSpace","overflow","textOverflow","xmlns","cx","cy","r","_c","_c2","animationDelay","_c3","$RefreshReg$"],"sources":["C:/Users/Fatih/Desktop/DuyguProjeWeb/duygu_proje_web/client/src/pages/Dashboard.jsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport { createDiary, getDiaries, deleteDiary, updateDiary } from '../services/diaryService';\nimport { updateProfile, changePassword, deleteAccount } from '../services/authService';\nimport { supabase } from '../lib/supabase';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  BarController,\n  Title,\n  Tooltip,\n  Legend,\n  PieController,\n  ArcElement\n} from 'chart.js';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport mindmoodLogo from '../assets/minmood.png';\nimport { Line } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  BarController,\n  Title,\n  Tooltip,\n  Legend,\n  PieController,\n  ArcElement,\n  ChartDataLabels\n);\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst today = new Date();\nconst days = ['Pazar', 'Pazartesi', 'Salı', 'Çarşamba', 'Perşembe', 'Cuma', 'Cumartesi'];\nconst months = ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran', 'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'];\n\n// Duygu etiketlerini Türkçe'ye çevirme\nconst emotionLabels = {\n  'admiration': 'Hayranlık',\n  'amusement': 'Eğlence',\n  'anger': 'Öfke',\n  'annoyance': 'Rahatsızlık',\n  'approval': 'Onay',\n  'caring': 'İlgili',\n  'confusion': 'Kafa Karışıklığı',\n  'curiosity': 'Merak',\n  'desire': 'İstek',\n  'disappointment': 'Hayal Kırıklığı',\n  'disapproval': 'Onaylamama',\n  'disgust': 'İğrenme',\n  'embarrassment': 'Utangaçlık',\n  'excitement': 'Heyecan',\n  'fear': 'Korku',\n  'gratitude': 'Minnettarlık',\n  'grief': 'Keder',\n  'joy': 'Mutluluk',\n  'love': 'Sevgi',\n  'nervousness': 'Gerginlik',\n  'optimism': 'İyimserlik',\n  'pride': 'Gurur',\n  'realization': 'Farkındalık',\n  'relief': 'Rahatlık',\n  'remorse': 'Pişmanlık',\n  'sadness': 'Üzüntü',\n  'surprise': 'Şaşkınlık',\n  'neutral': 'Nötr'\n};\n\nconst dailyQuotes = [\n  \"Duygularınızı kabul edin, onlar sizin rehberinizdir.\",\n  \"Her nefes, yeni bir başlangıç için fırsattır.\",\n  \"Kendinize karşı nazik olun, mükemmel olmak zorunda değilsiniz.\",\n  \"Bugünkü duygularınız, yarının gücünü oluşturur.\",\n  \"Her zorluk, içsel gücünüzü keşfetme fırsatıdır.\",\n  \"Kendinizi dinleyin, içinizdeki ses en doğru rehberdir.\",\n  \"Duygusal farkındalık, içsel huzurun anahtarıdır.\",\n  \"Her gün, kendinizi daha iyi tanıma şansıdır.\",\n  \"Kendinize zaman ayırın, ruhunuz buna değer.\",\n  \"Duygularınızı bastırmayın, onları anlamaya çalışın.\",\n  \"Her deneyim, büyümenize katkı sağlar.\",\n  \"Kendinizi sevmek, en büyük iyilikseverliktir.\",\n  \"Bugünkü duygularınız, yarının bilgeliğidir.\",\n  \"Her an, kendinizi yeniden keşfetme fırsatıdır.\",\n  \"İçsel huzur, dış dünyadaki başarının temelidir.\",\n  \"Duygusal zeka, hayatın en değerli hazinesidir.\",\n  \"Kendinize inanın, potansiyeliniz sınırsızdır.\",\n  \"Her duygu, bir öğrenme ve büyüme fırsatıdır.\",\n  \"Kendinizi kabul etmek, gerçek özgürlüktür.\",\n  \"Bugün, dünün deneyimlerinden öğrenme günüdür.\"\n];\n\nconst getDailyQuote = () => {\n  return dailyQuotes[Math.floor(Math.random() * dailyQuotes.length)];\n};\n\n// Kullanıcıyı güvenli şekilde al\nasync function getCurrentUserId() {\n  try {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (user) {\n      return user.id;\n    }\n    return null;\n  } catch (error) {\n    console.error('Kullanıcı ID alınamadı:', error);\n    return null;\n  }\n}\n\nexport default function Dashboard() {\n  const navigate = useNavigate();\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('home');\n  const [diaryContent, setDiaryContent] = useState('');\n  const [diaryList, setDiaryList] = useState([]);\n  const [selectedDiary, setSelectedDiary] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [editContent, setEditContent] = useState('');\n  const [profile, setProfile] = useState({ username: user?.username || '', email: user?.email || '' });\n  const [profileEdit, setProfileEdit] = useState(false);\n  const [profileLoading, setProfileLoading] = useState(false);\n  const [passwordModal, setPasswordModal] = useState(false);\n  const [passwords, setPasswords] = useState({ old: '', new: '' });\n  const [passwordError, setPasswordError] = useState('');\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [deletePassword, setDeletePassword] = useState('');\n  const [deleteError, setDeleteError] = useState('');\n  const [emotionText, setEmotionText] = useState(\"\");\n  const [emotionResult, setEmotionResult] = useState(null);\n  const [showEmotionPopup, setShowEmotionPopup] = useState(false);\n  const [analyzingEmotion, setAnalyzingEmotion] = useState(false);\n  const [savingEmotion, setSavingEmotion] = useState(false);\n  const [showSavePopup, setShowSavePopup] = useState(false);\n  const [savedEmotions, setSavedEmotions] = useState([]);\n  const [selectedEmotion, setSelectedEmotion] = useState(null);\n  const [emotionRange, setEmotionRange] = useState('week');\n  const [downloadingData, setDownloadingData] = useState(false);\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n  const [isDiaryListening, setIsDiaryListening] = useState(false);\n  const [diaryRecognition, setDiaryRecognition] = useState(null);\n  const [currentQuote, setCurrentQuote] = useState(getDailyQuote());\n  const [dailyEmotions, setDailyEmotions] = useState([]);\n\n  useEffect(() => {\n    if (activeTab === 'diary') {\n      getCurrentUserId().then(userId => {\n        if (userId) {\n          getDiaries(userId).then(({ data }) => {\n            setDiaryList(data || []);\n          });\n        }\n      });\n    }\n  }, [activeTab]);\n\n  useEffect(() => {\n    if (activeTab === 'emotions' || activeTab === 'stats') {\n      fetchSavedEmotions();\n    }\n  }, [activeTab]);\n\n  useEffect(() => {\n    // Web Speech API'yi başlat\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'tr-TR';\n      \n      recognition.onresult = (event) => {\n        const transcript = event.results[0][0].transcript;\n        setEmotionText(prev => prev + ' ' + transcript);\n        setIsListening(false);\n      };\n      \n      recognition.onerror = (event) => {\n        console.error('Ses tanıma hatası:', event.error);\n        setIsListening(false);\n      };\n      \n      recognition.onend = () => {\n        setIsListening(false);\n      };\n      \n      setRecognition(recognition);\n    }\n  }, []);\n\n  useEffect(() => {\n    // Günlük için Web Speech API'yi başlat\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'tr-TR';\n      \n      recognition.onresult = (event) => {\n        const transcript = event.results[0][0].transcript;\n        setDiaryContent(prev => prev + ' ' + transcript);\n        setIsDiaryListening(false);\n      };\n      \n      recognition.onerror = (event) => {\n        console.error('Ses tanıma hatası:', event.error);\n        setIsDiaryListening(false);\n      };\n      \n      recognition.onend = () => {\n        setIsDiaryListening(false);\n      };\n      \n      setDiaryRecognition(recognition);\n    }\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentQuote(getDailyQuote());\n    }, 60000); // 60000 ms = 1 minute\n\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    let channel;\n    let isMounted = true;\n\n    const setupRealtime = async () => {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n\n        // Önceki kanalı temizle\n        if (channel) {\n          await supabase.removeChannel(channel);\n        }\n\n        // Yeni kanal oluştur\n        channel = supabase\n          .channel('diary-realtime')\n          .on(\n            'postgres_changes',\n            {\n              event: '*',\n              schema: 'public',\n              table: 'diaries',\n              filter: `user_id=eq.${userId}`\n            },\n            (payload) => {\n              console.log('Günlük realtime değişiklik:', payload);\n              if (!isMounted) return;\n\n              // Silme işlemi\n              if (payload.eventType === 'DELETE') {\n                console.log('Günlük silme işlemi algılandı:', payload.old.id);\n                setDiaryList(prev => prev.filter(item => item.id !== payload.old.id));\n                if (selectedDiary && selectedDiary.id === payload.old.id) {\n                  setSelectedDiary(null);\n                  setModalOpen(false);\n                }\n              }\n              // Ekleme işlemi\n              else if (payload.eventType === 'INSERT') {\n                console.log('Günlük ekleme işlemi algılandı:', payload.new);\n                setDiaryList(prev => [payload.new, ...prev]);\n              }\n              // Güncelleme işlemi\n              else if (payload.eventType === 'UPDATE') {\n                console.log('Günlük güncelleme işlemi algılandı:', payload.new);\n                setDiaryList(prev => \n                  prev.map(item => item.id === payload.new.id ? payload.new : item)\n                );\n                if (selectedDiary && selectedDiary.id === payload.new.id) {\n                  setSelectedDiary(payload.new);\n                }\n              }\n            }\n          )\n          .subscribe((status) => {\n            console.log('Günlük subscription status:', status);\n            if (status === 'SUBSCRIBED') {\n              // İlk yükleme\n              getCurrentUserId().then(userId => {\n                if (userId) {\n                  getDiaries(userId).then(({ data }) => {\n                    setDiaryList(data || []);\n                  });\n                }\n              });\n            }\n          });\n\n      } catch (error) {\n        console.error('Günlük realtime subscription hatası:', error);\n      }\n    };\n\n    // Günlük sekmesi aktifse subscription'ı başlat\n    if (activeTab === 'diary') {\n      setupRealtime();\n    }\n\n    // Cleanup\n    return () => {\n      isMounted = false;\n      if (channel) {\n        supabase.removeChannel(channel);\n      }\n    };\n  }, [activeTab]);\n\n  const toggleListening = () => {\n    if (!recognition) {\n      alert('Tarayıcınız ses tanıma özelliğini desteklemiyor.');\n      return;\n    }\n    \n    if (isListening) {\n      recognition.stop();\n    } else {\n      try {\n        recognition.start();\n        setIsListening(true);\n      } catch (error) {\n        console.error('Ses tanıma başlatma hatası:', error);\n        setIsListening(false);\n      }\n    }\n  };\n\n  const toggleDiaryListening = () => {\n    if (!diaryRecognition) {\n      alert('Tarayıcınız ses tanıma özelliğini desteklemiyor.');\n      return;\n    }\n    \n    if (isDiaryListening) {\n      diaryRecognition.stop();\n    } else {\n      try {\n        diaryRecognition.start();\n        setIsDiaryListening(true);\n      } catch (error) {\n        console.error('Ses tanıma başlatma hatası:', error);\n        setIsDiaryListening(false);\n      }\n    }\n  };\n\n  const fetchSavedEmotions = async () => {\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        setSavedEmotions([]);\n        return;\n      }\n      const { data, error } = await supabase\n        .from('emotions')\n        .select('*')\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n\n      const fixedEmotions = (data || []).map(item => {\n        let emotionsArr = [];\n        if (Array.isArray(item.emotions)) {\n          emotionsArr = item.emotions;\n        } else if (typeof item.emotions === 'string') {\n          try {\n            emotionsArr = JSON.parse(item.emotions);\n          } catch (e) {\n            emotionsArr = [];\n          }\n        } else if (item.emotions && typeof item.emotions === 'object') {\n          emotionsArr = [item.emotions];\n        }\n        return { ...item, emotions: emotionsArr };\n      });\n\n      setSavedEmotions(fixedEmotions);\n      console.log('savedEmotions:', fixedEmotions);\n    } catch (error) {\n      console.error('Duygular yüklenirken hata:', error);\n    }\n  };\n\n  const handleDiarySubmit = async () => {\n    if (diaryContent.trim() !== '') {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n\n        const { error } = await createDiary(diaryContent, userId);\n        if (!error) {\n          const { data } = await getDiaries(userId);\n          setDiaryList(data || []);\n          setDiaryContent('');\n        } else {\n          console.error('Günlük kaydedilirken hata:', error);\n        }\n      } catch (error) {\n        console.error('Günlük kaydedilirken beklenmeyen hata:', error);\n      }\n    }\n  };\n\n  const handleDeleteDiary = async (id) => {\n    const userId = await getCurrentUserId();\n    if (!userId) {\n      console.error('Kullanıcı ID bulunamadı');\n      return;\n    }\n    await deleteDiary(id, userId);\n    const { data } = await getDiaries(userId);\n    setDiaryList(data || []);\n  };\n\n  const handleEditDiary = (entry) => {\n    setSelectedDiary(entry);\n    setEditContent(entry.content);\n    setEditMode(true);\n    setModalOpen(true);\n  };\n\n  const handleUpdateDiary = async () => {\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        console.error('Kullanıcı ID bulunamadı');\n        return;\n      }\n      const { error } = await updateDiary(selectedDiary.id, editContent, userId);\n      if (error) {\n        console.error('Günlük güncellenirken hata:', error);\n        return;\n      }\n      setEditMode(false);\n      setModalOpen(false);\n      const { data } = await getDiaries(userId);\n      setDiaryList(data || []);\n    } catch (error) {\n      console.error('Günlük güncellenirken beklenmeyen hata:', error);\n    }\n  };\n\n  const handleProfileSave = async () => {\n    setProfileLoading(true);\n    try {\n      const { error } = await updateProfile(profile);\n      if (error) {\n        console.error('Profil güncellenirken hata:', error);\n        return;\n      }\n      setProfileEdit(false);\n      localStorage.setItem('user', JSON.stringify({ ...user, username: profile.username, email: profile.email }));\n    } catch (error) {\n      console.error('Profil güncellenirken beklenmeyen hata:', error);\n    } finally {\n      setProfileLoading(false);\n    }\n  };\n\n  const handlePasswordChange = async () => {\n    setPasswordError('');\n    if (!passwords.new || passwords.new.length < 6) {\n      setPasswordError('Şifre en az 6 karakter olmalı.');\n      return;\n    }\n    const { error } = await changePassword(passwords.new);\n    if (!error) {\n      setPasswordModal(false);\n      setPasswords({ old: '', new: '' });\n    } else {\n      setPasswordError('Şifre değiştirilemedi.');\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    setDeleteError('');\n    // Gerçek silme için admin yetkisi gerekir, burada sadece çıkış yapıyoruz.\n    await deleteAccount();\n    localStorage.removeItem('user');\n    navigate('/');\n  };\n\n  const handleEmotionAnalyze = async () => {\n    if (!emotionText.trim()) {\n      setEmotionResult({ error: \"Lütfen analiz edilecek bir metin girin.\" });\n      setShowEmotionPopup(true);\n      return;\n    }\n\n    setAnalyzingEmotion(true);\n    try {\n      console.log('Duygu analizi isteği gönderiliyor:', emotionText);\n      \n      // Türkçe metni MyMemory API ile İngilizce'ye çevir\n      console.log('MyMemory Translation API isteği gönderiliyor...');\n      const translateResponse = await fetch('https://api.mymemory.translated.net/get?q=' + encodeURIComponent(emotionText) + '&langpair=tr|en');\n      const translateData = await Promise.race([\n        translateResponse.json(),\n        new Promise((_, reject) => setTimeout(() => reject(new Error('MyMemory API Timeout')), 10000))\n      ]);\n      \n      let translatedText = translateData.responseData.translatedText;\n      if (!translatedText) {\n        console.log('MyMemory çeviri başarısız, orijinal metin kullanılıyor:', emotionText);\n        translatedText = emotionText;\n      }\n\n      console.log('Çevrilen metin:', translatedText);\n\n      // Hugging Face duygu analizi\n      const hfResponse = await fetch('https://api-inference.huggingface.co/models/SamLowe/roberta-base-go_emotions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer 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',\n        },\n        body: JSON.stringify({ inputs: translatedText }),\n      });\n\n      const hfData = await Promise.race([\n        hfResponse.json(),\n        new Promise((_, reject) => setTimeout(() => reject(new Error('Hugging Face API Timeout')), 20000))\n      ]);\n      console.log('Hugging Face Raw Data:', hfData);\n\n      // Duyguları filtrele ve sırala (0.1 eşik değeri ile)\n      const filteredResults = hfData[0]\n        .filter(emotion => emotion.score > 0.1)\n        .sort((a, b) => b.score - a.score);\n\n      // Duygu etiketlerini Türkçe'ye çevir\n      const translatedResults = filteredResults.map(result => ({\n        label: emotionLabels[result.label] || result.label,\n        score: result.score,\n        intensity: result.score * 100\n      }));\n\n      // Detaylı açıklama oluştur\n      let detail = '';\n      if (translatedResults.length === 0) {\n        detail = 'Metinde belirgin bir duygu ifadesi bulunamadı.';\n      } else {\n        const emotionTexts = translatedResults.map(emotion => \n          `${emotion.label} (${emotion.intensity.toFixed(0)}%)`\n        );\n        detail = `Metinde ${emotionTexts.join(', ')} duyguları tespit edildi.`;\n      }\n\n      const formattedResponse = [{\n        emotions: translatedResults,\n        details: {\n          description: detail,\n          originalText: emotionText,\n          translatedText: translatedText,\n          rawEmotions: hfData[0]\n        }\n      }];\n\n      setEmotionResult(formattedResponse);\n      setShowEmotionPopup(true);\n    } catch (error) {\n      console.error('Duygu analizi hatası:', error);\n      setEmotionResult({ \n        error: error.message || \"Analiz başarısız oldu. Lütfen tekrar deneyin.\",\n        details: \"Beklenmeyen bir hata oluştu. Lütfen daha sonra tekrar deneyin.\"\n      });\n      setShowEmotionPopup(true);\n    } finally {\n      setAnalyzingEmotion(false);\n    }\n  };\n\n  const handleSaveEmotion = async () => {\n    const userId = await getCurrentUserId();\n    if (!emotionResult || !emotionText.trim() || !userId) {\n      return;\n    }\n\n    setSavingEmotion(true);\n    try {\n      const { error } = await supabase\n        .from('emotions')\n        .insert([\n          {\n            user_id: userId,\n            text: emotionText,\n            emotions: emotionResult[0].emotions,\n            created_at: new Date().toISOString()\n          }\n        ]);\n\n      if (error) throw error;\n\n      setShowSavePopup(true);\n      setEmotionText('');\n      setEmotionResult(null);\n      setShowEmotionPopup(false);\n      fetchSavedEmotions();\n    } catch (error) {\n      console.error('Duygu kaydetme hatası:', error);\n      alert('Duygular kaydedilirken bir hata oluştu.');\n    } finally {\n      setSavingEmotion(false);\n    }\n  };\n\n  const formatScore = (score) => {\n    if (typeof score !== 'number' || isNaN(score)) return 'Bilinmiyor';\n    return `${(score * 100).toFixed(2)}%`;\n  };\n\n  const handleDeleteEmotion = async (id) => {\n    if (!window.confirm('Bu kaydı silmek istediğinize emin misiniz?')) return;\n    try {\n      const { error } = await supabase\n        .from('emotions')\n        .delete()\n        .eq('id', id);\n      \n      if (error) throw error;\n      \n      // State'i güncelle\n      setSavedEmotions(prev => prev.filter(item => item.id !== id));\n      if (selectedEmotion && selectedEmotion.id === id) {\n        setSelectedEmotion(null);\n      }\n      \n      // Başarılı silme mesajı\n      alert('Kayıt başarıyla silindi');\n    } catch (error) {\n      console.error('Silme hatası:', error);\n      alert('Silme işlemi sırasında hata oluştu.');\n    }\n  };\n\n  const handleDownloadData = async () => {\n    setDownloadingData(true);\n    try {\n      const userId = await getCurrentUserId();\n      if (!userId) {\n        alert('Kullanıcı bilgisi bulunamadı.');\n        return;\n      }\n\n      // Günlük verilerini al\n      const { data: diaryData } = await getDiaries(userId);\n\n      // Duygu analizi verilerini al\n      const { data: emotionData } = await supabase\n        .from('emotions')\n        .select('*')\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false });\n\n      // PDF oluştur\n      const doc = new jsPDF();\n      \n      // Başlık\n      doc.setFontSize(16);\n      doc.text('MindMood - Veri Raporu', 20, 20);\n      doc.setFontSize(10);\n      doc.text(`Oluşturulma Tarihi: ${new Date().toLocaleDateString('tr-TR')}`, 20, 30);\n      \n      // Kullanıcı Bilgileri\n      doc.setFontSize(12);\n      doc.text('Kullanıcı Bilgileri:', 20, 40);\n      doc.setFontSize(10);\n      doc.text(`Kullanıcı Adı: ${profile.username || user?.username}`, 20, 50);\n      doc.text(`E-posta: ${profile.email || user?.email}`, 20, 55);\n      \n      let yPosition = 70;\n      \n      // Günlük Kayıtları\n      if (diaryData && diaryData.length > 0) {\n        doc.setFontSize(12);\n        doc.text('Günlük Kayıtları:', 20, yPosition);\n        yPosition += 10;\n        \n        diaryData.forEach((entry, index) => {\n          if (yPosition > 270) {\n            doc.addPage();\n            yPosition = 20;\n          }\n          \n          doc.setFontSize(10);\n          const date = new Date(entry.created_at).toLocaleDateString('tr-TR');\n          doc.text(`Tarih: ${date}`, 20, yPosition);\n          yPosition += 5;\n          \n          // İçeriği satırlara böl\n          const contentLines = doc.splitTextToSize(entry.content, 170);\n          contentLines.forEach(line => {\n            if (yPosition > 270) {\n              doc.addPage();\n              yPosition = 20;\n            }\n            doc.text(line, 20, yPosition);\n            yPosition += 5;\n          });\n          \n          yPosition += 5;\n        });\n      }\n      \n      // Duygu Analizleri\n      if (emotionData && emotionData.length > 0) {\n        if (yPosition > 250) {\n          doc.addPage();\n          yPosition = 20;\n        }\n        \n        doc.setFontSize(12);\n        doc.text('Duygu Analizleri:', 20, yPosition);\n        yPosition += 10;\n        \n        emotionData.forEach((emotion, index) => {\n          if (yPosition > 270) {\n            doc.addPage();\n            yPosition = 20;\n          }\n          \n          doc.setFontSize(10);\n          const date = new Date(emotion.created_at).toLocaleDateString('tr-TR');\n          doc.text(`Tarih: ${date}`, 20, yPosition);\n          yPosition += 5;\n          \n          // Metni satırlara böl\n          const textLines = doc.splitTextToSize(emotion.text, 170);\n          textLines.forEach(line => {\n            if (yPosition > 270) {\n              doc.addPage();\n              yPosition = 20;\n            }\n            doc.text(line, 20, yPosition);\n            yPosition += 5;\n          });\n          \n          // Duyguları ekle\n          if (emotion.emotions && Array.isArray(emotion.emotions)) {\n            const emotionsText = emotion.emotions.map(e => \n              `${e.label}: ${(e.score * 100).toFixed(2)}%`\n            ).join(', ');\n            \n            const emotionLines = doc.splitTextToSize(emotionsText, 170);\n            emotionLines.forEach(line => {\n              if (yPosition > 270) {\n                doc.addPage();\n                yPosition = 20;\n              }\n              doc.text(line, 20, yPosition);\n              yPosition += 5;\n            });\n          }\n          \n          yPosition += 5;\n        });\n      }\n      \n      // PDF'i indir\n      doc.save(`mindmood_rapor_${new Date().toISOString().split('T')[0]}.pdf`);\n      alert('Raporunuz başarıyla indirildi!');\n    } catch (error) {\n      console.error('Rapor oluşturma hatası:', error);\n      alert('Rapor oluşturulurken bir hata oluştu. Lütfen tekrar deneyin.');\n    } finally {\n      setDownloadingData(false);\n    }\n  };\n\n  const renderEmotionPopup = () => {\n    if (!showEmotionPopup) return null;\n\n    return (\n      <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\n        <div className=\"bg-white rounded-xl p-8 shadow-2xl text-center max-w-md w-full\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-2xl font-bold text-[#7c1fa0]\">Duygu Analizi Sonucu</h2>\n            <button\n              onClick={() => {\n                setShowEmotionPopup(false);\n                setEmotionText('');\n              }}\n              className=\"text-[#7c1fa0] hover:text-[#ee00ee] transition-colors\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {emotionResult?.error ? (\n            <div className=\"text-red-500 mb-4\">\n              <p className=\"font-bold\">{emotionResult.error}</p>\n              {emotionResult.details && (\n                <p className=\"text-sm mt-2 text-gray-600\">{emotionResult.details}</p>\n              )}\n              <button\n                onClick={() => {\n                  setShowEmotionPopup(false);\n                  setEmotionText('');\n                }}\n                className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\n              >\n                Tekrar Dene\n              </button>\n            </div>\n          ) : emotionResult && Array.isArray(emotionResult) && emotionResult.length > 0 ? (\n            <div>\n              {emotionResult[0].emotions.length > 0 && (\n                <p className=\"text-lg font-semibold text-[#7c1fa0] mb-4\">\n                  {emotionResult[0].emotions.length} Duygu Tespit Edildi:\n                </p>\n              )}\n              <div className=\"space-y-3 mb-6\">\n                {emotionResult[0].emotions.map((emotion, index) => (\n                  <div key={index} className=\"bg-white/50 p-3 rounded-lg border border-[#ee00ee]/20\">\n                    <p className=\"text-lg\">\n                      <span className=\"font-semibold text-[#7c1fa0]\">Duygu:</span> {emotion.label}\n                      <span className=\"mx-2\">–</span>\n                      <span className=\"font-semibold text-[#7c1fa0]\">Oran:</span> {formatScore(emotion.score)}\n                    </p>\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex gap-4 justify-center\">\n                <button\n                  onClick={() => {\n                    setShowEmotionPopup(false);\n                    setEmotionText('');\n                  }}\n                  className=\"flex-1 px-6 py-2 bg-[#ee00ee] text-white rounded-lg hover:bg-[#7c1fa0] transition-colors\"\n                >\n                  Yeni Analiz\n                </button>\n                <button\n                  onClick={handleSaveEmotion}\n                  disabled={savingEmotion}\n                  className=\"flex-1 px-6 py-2 bg-[#7c1fa0] text-white rounded-lg hover:bg-[#ee00ee] transition-colors disabled:opacity-60\"\n                  className=\"px-6 py-2 bg-[#7c1fa0] text-white rounded-lg hover:bg-[#ee00ee] transition-colors disabled:opacity-60\"\n                >\n                  {savingEmotion ? \"Kaydediliyor...\" : \"Kaydet\"}\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div>\n              <p className=\"text-red-500\">Sonuç alınamadı.</p>\n              <button\n                onClick={() => {\n                  setShowEmotionPopup(false);\n                  setEmotionText('');\n                }}\n                className=\"mt-4 px-4 py-2 bg-[#ee00ee] text-white rounded-lg hover:bg-[#7c1fa0] transition-colors\"\n              >\n                Tekrar Dene\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  function getEmotionColor(emotion) {\n    const colors = {\n  \n  'Mutluluk': '#FFD700',       // parlak altın sarısı\n  'Üzüntü': '#4682B4',         // soğuk çelik mavisi\n  'Öfke': '#FF4500',           // canlı turuncu-kırmızı\n  'Korku': '#800080',          // koyu mor\n  'Şaşkınlık': '#FF69B4',      // parlak pembe\n  'İğrenme': '#228B22',        // orman yeşili\n  'Nötr': '#808080',           // sade gri\n  'Sevgi': '#FF1493',          // sıcak pembe\n  'Hayranlık': '#00CED1',      // koyu turkuaz\n  'Eğlence': '#FFA500',        // canlı turuncu\n  'Rahatsızlık': '#A0522D',    // yoğun kahverengi\n  'Onay': '#32CD32',           // limon yeşili\n  'İlgili': '#20B2AA',         // açık deniz mavisi\n  'Kafa Karışıklığı': '#BA55D3', // orkide moru\n  'Merak': '#FF6347',          // domates kırmızısı\n  'İstek': '#FF8C00',          // koyu turuncu\n  'Hayal Kırıklığı': '#8B4513', // koyu kahverengi\n  'Onaylamama': '#DC143C',     // kiraz kırmızısı\n  'Utangaçlık': '#DB7093',     // soluk pembe\n  'Heyecan': '#FF6347',        // domates kırmızısı\n  'Minnettarlık': '#DAA520',   // altın kahverengi\n  'Keder': '#4B0082',          // çivit moru\n  'Gerginlik': '#B22222',      // ateş kırmızısı\n  'İyimserlik': '#00FF7F',     // yayla yeşili\n  'Gurur': '#FF7F50',          // mercan rengi\n  'Farkındalık': '#1E90FF',    // dodger blue\n  'Rahatlık': '#98FB98',       // soluk yeşil\n  'Pişmanlık': '#C71585'       // orta menekşe\n\n\n    };\n    return colors[emotion] || `hsl(${Math.random() * 360}, 70%, 50%)`;\n  }\n\n  const EmotionStackedBarChart = React.memo(({ data }) => {\n    const chartRef = React.useRef(null);\n    const [chartInstance, setChartInstance] = React.useState(null);\n\n    React.useEffect(() => {\n      if (!data || !data.labels || !data.datasets || data.labels.length === 0) return;\n      const ctx = chartRef.current.getContext('2d');\n      if (chartInstance) chartInstance.destroy();\n      const newChart = new ChartJS(ctx, {\n        type: 'bar',\n        data: data,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: { position: 'top' },\n            tooltip: {\n              callbacks: {\n                label: function(context) {\n                  let label = context.dataset.label || '';\n                  if (label) label += ': ';\n                  if (context.parsed.y !== null) label += context.parsed.y.toFixed(1) + '%';\n                  return label;\n                }\n              }\n            }\n          },\n          scales: {\n            x: { stacked: true, title: { display: true, text: 'Tarih' } },\n            y: { stacked: true, beginAtZero: true, max: 100, title: { display: true, text: 'Yoğunluk (%)' } }\n          }\n        }\n      });\n      setChartInstance(newChart);\n      return () => { if (newChart) newChart.destroy(); };\n    }, [data]);\n    if (!data || !data.labels || !data.datasets || data.labels.length === 0) {\n      return <p className=\"text-gray-500\">Grafik verisi yüklenemedi</p>;\n    }\n    return <div className=\"w-full h-full relative\"><canvas ref={chartRef} /></div>;\n  });\n\n  function prepareStackedBarData(emotions) {\n    if (!emotions || emotions.length === 0) return { labels: [], datasets: [] };\n    const sorted = [...emotions].sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n    const labels = sorted.map(entry => new Date(entry.created_at).toLocaleDateString('tr-TR'));\n    const emotionLabels = Array.from(new Set(sorted.flatMap(e => (Array.isArray(e.emotions) ? e.emotions : []).map(em => em.label))));\n    const datasets = emotionLabels.map(label => {\n      return {\n        label,\n        data: sorted.map(entry => {\n          const arr = Array.isArray(entry.emotions) ? entry.emotions : [];\n          const found = arr.find(e => e.label === label);\n          // Tek ondalık basamakla formatla\n          return found ? parseFloat((found.score * 100).toFixed(1)) : 0;\n        }),\n        backgroundColor: getEmotionColor(label),\n        borderColor: getEmotionColor(label),\n        borderWidth: 1\n      };\n    });\n    return { labels, datasets };\n  }\n\n  function filterEmotionsByRange(emotions, range) {\n    if (!emotions || emotions.length === 0) return [];\n    const now = new Date();\n    let startDate;\n    if (range === 'week') {\n      startDate = new Date(now);\n      startDate.setDate(now.getDate() - 6); // Son 7 gün\n    } else if (range === 'month') {\n      startDate = new Date(now);\n      startDate.setMonth(now.getMonth() - 1); // Son 1 ay\n    } else {\n      return emotions;\n    }\n    return emotions.filter(entry => new Date(entry.created_at) >= startDate);\n  }\n\n  const EmotionPieChart = React.memo(({ data }) => {\n    const chartRef = React.useRef(null);\n    const [chartInstance, setChartInstance] = React.useState(null);\n\n    React.useEffect(() => {\n      if (!data || !data.labels || !data.datasets || data.labels.length === 0) return;\n      const ctx = chartRef.current.getContext('2d');\n      if (chartInstance) chartInstance.destroy();\n      const newChart = new ChartJS(ctx, {\n        type: 'pie',\n        data: data,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          plugins: {\n            legend: { position: 'right' },\n            tooltip: {\n              callbacks: {\n                label: function(context) {\n                  let label = context.label || '';\n                  if (label) label += ': ';\n                  if (context.parsed !== null) label += context.parsed + ' kez';\n                  return label;\n                }\n              }\n            },\n            datalabels: {\n              color: '#fff',\n              font: {\n                weight: 'bold',\n                size: 14\n              },\n              formatter: (value, context) => {\n                const label = context.chart.data.labels[context.dataIndex];\n                const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);\n                const percent = total > 0 ? Math.round((value / total) * 100) : 0;\n                return `${label}\\n${percent}%`;\n              },\n              textAlign: 'center',\n              anchor: 'center',\n              clamp: true\n            }\n          },\n          animation: {\n            duration: 2000,\n            easing: 'easeInOutQuart'\n          }\n        },\n        plugins: [ChartDataLabels]\n      });\n      setChartInstance(newChart);\n      return () => { if (newChart) newChart.destroy(); };\n    }, [data]);\n    if (!data || !data.labels || !data.datasets || data.labels.length === 0) {\n      return <p className=\"text-gray-500\">Grafik verisi yüklenemedi</p>;\n    }\n    return <div className=\"w-full h-full relative\"><canvas ref={chartRef} /></div>;\n  });\n\n  function preparePieChartData(emotions) {\n    if (!emotions || emotions.length === 0) return { labels: [], datasets: [] };\n    const counts = {};\n    emotions.forEach(entry => (Array.isArray(entry.emotions) ? entry.emotions : []).forEach(e => { counts[e.label] = (counts[e.label] || 0) + 1; }));\n    const labels = Object.keys(counts);\n    const data = Object.values(counts);\n    return {\n      labels,\n      datasets: [{\n        data,\n        backgroundColor: labels.map(label => getEmotionColor(label)),\n        borderColor: '#fff',\n        borderWidth: 2\n      }]\n    };\n  }\n\n  // GÜNCEL: Duygular için realtime subscription\n  useEffect(() => {\n    let channel;\n    let isMounted = true;\n\n    const setupRealtime = async () => {\n      try {\n        const userId = await getCurrentUserId();\n        if (!userId) {\n          console.error('Kullanıcı ID bulunamadı');\n          return;\n        }\n\n        // Önceki kanalı temizle\n        if (channel) {\n          await supabase.removeChannel(channel);\n        }\n\n        // Yeni kanal oluştur\n        channel = supabase\n          .channel('emotions-realtime')\n          .on(\n            'postgres_changes',\n            {\n              event: '*',\n              schema: 'public',\n              table: 'emotions',\n              filter: `user_id=eq.${userId}`\n            },\n            (payload) => {\n              console.log('Realtime değişiklik:', payload);\n              if (!isMounted) return;\n\n              // Silme işlemi\n              if (payload.eventType === 'DELETE') {\n                console.log('Silme işlemi algılandı:', payload.old.id);\n                setSavedEmotions(prev => prev.filter(item => item.id !== payload.old.id));\n                if (selectedEmotion && selectedEmotion.id === payload.old.id) {\n                  setSelectedEmotion(null);\n                }\n              }\n              // Ekleme işlemi\n              else if (payload.eventType === 'INSERT') {\n                console.log('Ekleme işlemi algılandı:', payload.new);\n                setSavedEmotions(prev => [payload.new, ...prev]);\n              }\n              // Güncelleme işlemi\n              else if (payload.eventType === 'UPDATE') {\n                console.log('Güncelleme işlemi algılandı:', payload.new);\n                setSavedEmotions(prev => \n                  prev.map(item => item.id === payload.new.id ? payload.new : item)\n                );\n              }\n            }\n          )\n          .subscribe((status) => {\n            console.log('Subscription status:', status);\n            if (status === 'SUBSCRIBED') {\n              // İlk yükleme\n              fetchSavedEmotions();\n            }\n          });\n\n      } catch (error) {\n        console.error('Realtime subscription hatası:', error);\n      }\n    };\n\n    // Duygular sekmesi aktifse subscription'ı başlat\n    if (activeTab === 'emotions') {\n      setupRealtime();\n    }\n\n    // Cleanup\n    return () => {\n      isMounted = false;\n      if (channel) {\n        supabase.removeChannel(channel);\n      }\n    };\n  }, [activeTab]);\n\n  // Günlük duygu değişim grafiği\n  const renderDailyEmotionChart = () => {\n    if (!dailyEmotions.length) return null;\n\n    const chartData = {\n      labels: dailyEmotions.map(e => {\n        const date = new Date(e.created_at);\n        return date.toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' });\n      }),\n      datasets: [{\n        label: 'Duygu Değişimi',\n        data: dailyEmotions.map(e => e.intensity),\n        borderColor: '#4CAF50',\n        backgroundColor: 'rgba(76, 175, 80, 0.1)',\n        borderWidth: 2,\n        fill: true,\n        tension: 0.4,\n        pointRadius: 4,\n        pointHoverRadius: 6\n      }]\n    };\n\n    const options = {\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          display: false\n        },\n        tooltip: {\n          callbacks: {\n            label: (context) => {\n              const emotion = dailyEmotions[context.dataIndex];\n              return [\n                `Duygu: ${emotion.emotion_name}`,\n                `Yoğunluk: ${emotion.intensity}`,\n                `Not: ${emotion.note || 'Yok'}`\n              ];\n            }\n          }\n        },\n        zoom: {\n          pan: {\n            enabled: true,\n            mode: 'x',\n            modifierKey: 'ctrl',\n          },\n          zoom: {\n            wheel: {\n              enabled: true,\n              modifierKey: 'ctrl',\n            },\n            pinch: {\n              enabled: true\n            },\n            mode: 'x',\n          },\n          limits: {\n            x: {min: 'original', max: 'original'}\n          }\n        }\n      },\n      scales: {\n        x: {\n          grid: {\n            display: false\n          },\n          ticks: {\n            maxRotation: 45,\n            minRotation: 45\n          }\n        },\n        y: {\n          beginAtZero: true,\n          max: 10,\n          grid: {\n            color: 'rgba(0, 0, 0, 0.1)'\n          }\n        }\n      },\n      interaction: {\n        mode: 'index',\n        intersect: false\n      }\n    };\n\n    return (\n      <div className=\"bg-white rounded-lg shadow-md p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">Günlük Duygu Değişimi</h3>\n        <div className=\"relative\" style={{ height: '300px' }}>\n          <Line data={chartData} options={options} />\n        </div>\n        <div className=\"mt-2 text-sm text-gray-500 text-center\">\n          <p>Grafiği kaydırmak için CTRL tuşuna basılı tutarak fare tekerleğini kullanın</p>\n          <p>veya dokunmatik ekranda iki parmakla kaydırın</p>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen flex bg-gradient-to-br from-[#ee00ee] to-[#7c1fa0] font-sans transition-colors duration-700 relative overflow-hidden\">\n      {/* Sidebar */}\n      <aside className=\"w-64 flex flex-col items-center py-10 bg-white/90 shadow-2xl rounded-tr-3xl rounded-br-3xl animate-fade-in-left relative z-10\">\n        <div className=\"mb-4\">\n          <span className=\"text-3xl font-extrabold text-[#ee00ee] tracking-wide drop-shadow-lg\">MindMood</span>\n        </div>\n        <img src={mindmoodLogo} alt=\"MindMood Logo\" className=\"w-20 h-20 object-contain mb-8 rounded-full\" />\n        <nav className=\"flex flex-col gap-6 w-full mt-8\">\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"home\" className=\"text-[#ee00ee]\">🏠</span>} label=\"Ana Sayfa\" active={activeTab === 'home'} onClick={() => setActiveTab('home')} />\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"smile\" className=\"text-[#ee00ee]\">😊</span>} label=\"Duygularım\" active={activeTab === 'emotions'} onClick={() => setActiveTab('emotions')} />\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"notebook\" className=\"text-[#ee00ee]\">📔</span>} label=\"Günlük\" active={activeTab === 'diary'} onClick={() => setActiveTab('diary')} />\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"chart\" className=\"text-[#ee00ee]\">📊</span>} label=\"Analiz\" active={activeTab === 'stats'} onClick={() => setActiveTab('stats')} />\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"settings\" className=\"text-[#ee00ee]\">⚙️</span>} label=\"Ayarlar\" active={activeTab === 'settings'} onClick={() => setActiveTab('settings')} />\n          <SidebarIcon icon={<span role=\"img\" aria-label=\"logout\" className=\"text-[#ee00ee]\">↩️</span>} label=\"Çıkış Yap\" onClick={() => {localStorage.removeItem('user'); navigate('/');}} />\n        </nav>\n      </aside>\n      {/* Main Content */}\n      <main className=\"flex-1 flex flex-col items-center justify-center px-4 py-10 relative animate-fade-in-up z-10\">\n        <div className=\"absolute top-8 right-12 flex items-center gap-4\">\n          <div className=\"bg-white/80 px-6 py-2 rounded-full flex items-center gap-2 text-lg shadow text-[#ee00ee] font-semibold animate-fade-in border-2 border-[#ee00ee]\">\n            {today.getDate()} {months[today.getMonth()]} <span className=\"font-bold\">{days[today.getDay()]}</span>\n          </div>\n        </div>\n        {/* Ana içerik: Tab'a göre göster */}\n        {activeTab === 'home' && (\n          <>\n            <div className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-center mb-4 animate-fade-in-up border-2 border-[#ee00ee]\">\n              <h1 className=\"text-3xl font-bold text-[#7c1fa0] mb-2\">Hoş Geldiniz!</h1>\n              <p className=\"text-2xl font-extrabold text-[#ee00ee] mt-2\">{profile.username || user?.username || 'Kullanıcı'}</p>\n              <p className=\"text-lg text-[#7c1fa0] mb-2 mt-2\">Bugün nasıl hissediyorsunuz?</p>\n              <p className=\"text-lg text-center italic text-[#ee00ee] font-medium mt-4\">\"{currentQuote}\"</p>\n            </div>\n            <div className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-center mb-4 animate-fade-in-up border-2 border-[#ee00ee]\">\n              <h2 className=\"text-2xl font-bold text-[#7c1fa0] mb-4\">Duygu Analizi</h2>\n              <div className=\"w-full relative\">\n                <textarea\n                  value={emotionText}\n                  onChange={e => setEmotionText(e.target.value)}\n                  placeholder=\"Duygularınızı buraya yazın...\"\n                  className=\"w-full min-h-32 max-h-60 px-6 py-4 rounded-xl bg-white border-2 border-[#ee00ee] text-[#7c1fa0] placeholder-[#ee00ee] focus:outline-none focus:ring-2 focus:ring-[#ee00ee] transition-all mb-4 shadow resize-y overflow-x-hidden\"\n                />\n                <button\n                  onClick={toggleListening}\n                  className={`absolute right-4 top-4 p-2 rounded-full transition-all ${\n                    isListening \n                      ? 'bg-red-500 hover:bg-red-600 animate-pulse' \n                      : 'bg-[#ee00ee] hover:bg-[#7c1fa0]'\n                  }`}\n                  title={isListening ? 'Dinlemeyi Durdur' : 'Sesli Giriş'}\n                >\n                  {isListening ? (\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n                    </svg>\n                  )}\n                </button>\n              </div>\n              <button\n                onClick={handleEmotionAnalyze}\n                disabled={analyzingEmotion}\n                className=\"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow-lg hover:scale-105 hover:shadow-2xl hover:from-[#7c1fa0] hover:to-[#ee00ee] transition-all text-lg animate-pulse border-2 border-[#ee00ee] disabled:opacity-60\"\n              >\n                <svg width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" viewBox=\"0 0 24 24\"><path d=\"M12 19V6M5 12l7-7 7 7\"/></svg>\n                {analyzingEmotion ? \"Analiz Ediliyor...\" : \"Analiz Et\"}\n              </button>\n            </div>\n            {renderEmotionPopup()}\n            {/* Kartlar */}\n            <div className=\"flex gap-8 mt-2\">\n              <AnimatedCard delay={0} className=\"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\">\n                <span className=\"text-4xl mb-2\">📔</span>\n                <span className=\"font-bold text-lg\">Günlük</span>\n              </AnimatedCard>\n              <AnimatedCard delay={0.15} className=\"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\">\n                <span className=\"text-4xl mb-2\">📈</span>\n                <span className=\"font-bold text-lg\">Gelişim Haritası</span>\n              </AnimatedCard>\n              <AnimatedCard delay={0.3} className=\"bg-white/90 text-[#ee00ee] border-2 border-[#ee00ee]\">\n                <span className=\"text-4xl mb-2\">🧘‍♂️</span>\n                <span className=\"font-bold text-lg\">Meditasyon</span>\n              </AnimatedCard>\n            </div>\n          </>\n        )}\n        {activeTab === 'emotions' && (\n          <div className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\">\n            <h2 className=\"text-2xl font-bold text-[#7c1fa0] mb-4\">Duygu Geçmişim</h2>\n            <div className=\"w-full\">\n              {savedEmotions.length > 0 ? (\n                <div className=\"space-y-6\">\n                  {savedEmotions.map((emotion, index) => (\n                    <div\n                      key={emotion.id}\n                      className=\"bg-white/90 p-6 rounded-2xl shadow flex flex-col items-start mb-4 border-2 border-[#ee00ee] cursor-pointer hover:scale-105 transition-all relative\"\n                      onClick={() => setSelectedEmotion(emotion)}\n                    >\n                      <button\n                        onClick={e => { e.stopPropagation(); handleDeleteEmotion(emotion.id); }}\n                        className=\"absolute top-4 right-4 text-red-500 font-bold text-lg hover:text-red-700\"\n                        title=\"Sil\"\n                      >Sil</button>\n                      <div className=\"text-xl font-bold text-[#7c1fa0] mb-2\">{new Date(emotion.created_at).toLocaleDateString('tr-TR')}</div>\n                      <div className=\"text-base text-[#222] mb-2\">{emotion.text}</div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-gray-500\">Henüz kaydedilmiş duygu analizi bulunmuyor.</p>\n              )}\n            </div>\n            {/* Popup */}\n            {selectedEmotion && (\n              <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50\">\n                <div className=\"bg-white rounded-2xl p-8 border-2 border-[#ee00ee] shadow-2xl max-w-lg w-full relative\">\n                  <button\n                    onClick={() => setSelectedEmotion(null)}\n                    className=\"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\"\n                  >×</button>\n                  <div className=\"text-2xl font-bold text-[#7c1fa0] mb-4\">{new Date(selectedEmotion.created_at).toLocaleDateString('tr-TR')}</div>\n                  <div className=\"text-base text-[#222] mb-4\">{selectedEmotion.text}</div>\n                  <div className=\"space-y-2\">\n                    {selectedEmotion.emotions.map((emotionData, idx) => (\n                      <div key={idx} className=\"text-lg bg-white/50 p-2 rounded-lg border border-[#ee00ee]/20\">\n                        <p>\n                          <span className=\"font-semibold text-[#7c1fa0]\">Duygu:</span> {emotionData.label}\n                          <span className=\"mx-2\">–</span>\n                          <span className=\"font-semibold text-[#7c1fa0]\">Oran:</span> {formatScore(emotionData.score)}\n                        </p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n        {activeTab === 'stats' && (\n          <div className=\"w-full max-w-5xl flex flex-col items-start mb-8 animate-fade-in-up\">\n            <h2 className=\"text-2xl font-bold text-[#7c1fa0] mb-6\">Duygu Analizi İstatistikleri</h2>\n            <div className=\"flex gap-4 mb-4\">\n              <button\n                className={`px-4 py-2 rounded-lg font-bold border-2 ${emotionRange === 'week' ? 'bg-[#ee00ee] text-white border-[#ee00ee]' : 'bg-white text-[#7c1fa0] border-[#ee00ee]'}`}\n                onClick={() => setEmotionRange('week')}\n              >Haftalık</button>\n              <button\n                className={`px-4 py-2 rounded-lg font-bold border-2 ${emotionRange === 'month' ? 'bg-[#ee00ee] text-white border-[#ee00ee]' : 'bg-white text-[#7c1fa0] border-[#ee00ee]'}`}\n                onClick={() => setEmotionRange('month')}\n              >Aylık</button>\n            </div>\n            <div className=\"w-full flex flex-col gap-8\">\n              {/* En Sık Duygu Kartı */}\n              <div className=\"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\">\n                <h3 className=\"text-xl font-bold text-[#7c1fa0] mb-2\">En Sık Duygu</h3>\n                {savedEmotions && savedEmotions.length > 0 ? (\n                  <div className=\"text-center\">\n                    <p className=\"text-3xl font-bold text-[#ee00ee]\">\n                      {/* En sık duygu hesaplama */}\n                      {(() => {\n                        const filtered = filterEmotionsByRange(savedEmotions, emotionRange);\n                        const counts = {};\n                        filtered.forEach(entry => (Array.isArray(entry.emotions) ? entry.emotions : []).forEach(e => { counts[e.label] = (counts[e.label] || 0) + 1; }));\n                        const max = Object.entries(counts).sort((a, b) => b[1] - a[1])[0];\n                        return max ? `${max[0]} (${max[1]} kez)` : 'Veri yok';\n                      })()}\n                    </p>\n                  </div>\n                ) : (\n                  <div className=\"text-center\">\n                    <p className=\"text-gray-500\">Henüz veri yok</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Duygu analizi yaparak veri ekleyebilirsiniz</p>\n                  </div>\n                )}\n              </div>\n              {/* Duygu Değişim Grafiği (Stacked Bar) */}\n              <div className=\"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\">\n                <h3 className=\"text-xl font-bold text-[#7c1fa0] mb-4\">Duygu Değişim Grafiği</h3>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  Duygularınızın zaman içindeki değişimini ve yoğunluğunu gösteren yığılmış bar grafik.\n                </p>\n                {savedEmotions && savedEmotions.length > 0 ? (\n                  <div className=\"h-[500px]\">\n                    <EmotionStackedBarChart data={prepareStackedBarData(filterEmotionsByRange(savedEmotions, emotionRange))} />\n                  </div>\n                ) : (\n                  <div className=\"text-center\">\n                    <p className=\"text-gray-500\">Henüz veri yok</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Duygu analizi yaparak veri ekleyebilirsiniz</p>\n                  </div>\n                )}\n              </div>\n              {/* Pie Chart Kartı */}\n              <div className=\"w-full bg-white/90 rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee]\">\n                <h3 className=\"text-xl font-bold text-[#7c1fa0] mb-4\">Duygu Dağılımı </h3>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  Seçili aralıktaki duyguların oranlarını pasta grafik olarak görebilirsiniz.\n                </p>\n                {savedEmotions && savedEmotions.length > 0 ? (\n                  <div className=\"h-[400px]\">\n                    <EmotionPieChart data={preparePieChartData(filterEmotionsByRange(savedEmotions, emotionRange))} />\n                  </div>\n                ) : (\n                  <div className=\"text-center\">\n                    <p className=\"text-gray-500\">Henüz veri yok</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Duygu analizi yaparak veri ekleyebilirsiniz</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        {activeTab === 'diary' && (\n          <>\n            <div className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\">\n              <h2 className=\"text-2xl font-bold text-[#7c1fa0] mb-4\">Duygu Günlüğüm</h2>\n              <div className=\"w-full relative\">\n                <textarea\n                  value={diaryContent}\n                  onChange={(e) => setDiaryContent(e.target.value)}\n                  placeholder=\"Bugün neler hissettiniz?\"\n                  className=\"w-full min-h-32 max-h-60 px-6 py-4 rounded-xl bg-white border-2 border-[#ee00ee] text-[#7c1fa0] placeholder-[#ee00ee] focus:outline-none focus:ring-2 focus:ring-[#ee00ee] transition-all mb-4 shadow resize-y overflow-x-hidden\"\n                />\n                <button\n                  onClick={toggleDiaryListening}\n                  className={`absolute right-4 top-4 p-2 rounded-full transition-all ${\n                    isDiaryListening \n                      ? 'bg-red-500 hover:bg-red-600 animate-pulse' \n                      : 'bg-[#ee00ee] hover:bg-[#7c1fa0]'\n                  }`}\n                  title={isDiaryListening ? 'Dinlemeyi Durdur' : 'Sesli Giriş'}\n                >\n                  {isDiaryListening ? (\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\" />\n                    </svg>\n                  )}\n                </button>\n              </div>\n              <div className=\"flex justify-center w-full\">\n                <button\n                  onClick={handleDiarySubmit}\n                  className=\"px-8 py-3 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow-lg hover:scale-105 hover:shadow-2xl hover:from-[#7c1fa0] hover:to-[#ee00ee] transition-all text-lg border-2 border-[#ee00ee]\"\n                >\n                  Kaydet\n                </button>\n              </div>\n            </div>\n\n            {/* Günlük Listesi */}\n            {diaryList.map((entry, idx) => (\n              <div\n                key={entry.id || idx}\n                className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-6 animate-fade-in-up border-2 border-[#ee00ee] cursor-pointer\"\n                onClick={() => { setSelectedDiary(entry); setModalOpen(true); setEditMode(false); }}\n              >\n                <div className=\"flex w-full justify-between items-center mb-2\">\n                  <div className=\"text-xl font-bold text-[#7c1fa0]\">{new Date(entry.created_at).toLocaleDateString('tr-TR')}</div>\n                  <div className=\"flex gap-2\">\n                    <button\n                      className=\"text-[#ee00ee] font-bold px-2 py-1 rounded hover:bg-[#ee00ee]/10\"\n                      onClick={e => { e.stopPropagation(); handleEditDiary(entry); }}\n                    >Düzenle</button>\n                    <button\n                      className=\"text-red-500 font-bold px-2 py-1 rounded hover:bg-red-100\"\n                      onClick={e => { e.stopPropagation(); handleDeleteDiary(entry.id); }}\n                    >Sil</button>\n                  </div>\n                </div>\n                <div className=\"text-base text-[#222] truncate\" style={{width: '100%', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis'}}>{entry.content}</div>\n              </div>\n            ))}\n\n            {/* Modal */}\n            {modalOpen && selectedDiary && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n                <div className=\"bg-white rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee] max-w-lg w-full relative\">\n                  <button onClick={() => { setModalOpen(false); setEditMode(false); }} className=\"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\">×</button>\n                  <div className=\"text-xl font-bold text-[#7c1fa0] mb-4\">{new Date(selectedDiary.created_at).toLocaleDateString('tr-TR')}</div>\n                  {editMode ? (\n                    <>\n                      <textarea\n                        value={editContent}\n                        onChange={e => setEditContent(e.target.value)}\n                        className=\"w-full min-h-32 max-h-60 px-4 py-2 rounded-xl border-2 border-[#ee00ee] text-[#7c1fa0] mb-4\"\n                      />\n                      <button\n                        onClick={handleUpdateDiary}\n                        className=\"px-6 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] rounded-xl text-white font-bold shadow hover:scale-105 border-2 border-[#ee00ee]\"\n                      >Kaydet</button>\n                    </>\n                  ) : (\n                    <div className=\"text-base text-[#222] whitespace-pre-line\">{selectedDiary.content}</div>\n                  )}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n        {activeTab === 'settings' && (\n          <div className=\"w-full max-w-xl bg-white/90 rounded-2xl shadow-2xl p-8 flex flex-col items-start mb-8 animate-fade-in-up border-2 border-[#ee00ee]\">\n            <h2 className=\"text-2xl font-bold text-[#7c1fa0] mb-4\">Ayarlar</h2>\n            \n            {/* Profil Bilgileri */}\n            <div className=\"mb-6 w-full\">\n              <h3 className=\"text-lg font-bold text-[#7c1fa0] mb-3\">Profil Bilgileri</h3>\n              <label className=\"block text-[#7c1fa0] font-semibold mb-1\">Kullanıcı Adı</label>\n              <input\n                type=\"text\"\n                value={profile.username}\n                disabled={!profileEdit}\n                onChange={e => setProfile({ ...profile, username: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n              />\n              <label className=\"block text-[#7c1fa0] font-semibold mb-1\">E-posta</label>\n              <input\n                type=\"email\"\n                value={profile.email}\n                disabled={!profileEdit}\n                onChange={e => setProfile({ ...profile, email: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n              />\n              <div className=\"flex gap-2 mt-2\">\n                {!profileEdit ? (\n                  <button onClick={() => setProfileEdit(true)} className=\"px-4 py-2 bg-[#ee00ee] text-white rounded-lg font-bold\">Düzenle</button>\n                ) : (\n                  <>\n                    <button onClick={handleProfileSave} disabled={profileLoading} className=\"px-4 py-2 bg-[#7c1fa0] text-white rounded-lg font-bold\">Kaydet</button>\n                    <button onClick={() => { setProfileEdit(false); setProfile({ username: user?.username || '', email: user?.email || '' }); }} className=\"px-4 py-2 bg-gray-300 text-[#7c1fa0] rounded-lg font-bold\">İptal</button>\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Veri Yönetimi */}\n            <div className=\"mb-6 w-full\">\n              <h3 className=\"text-lg font-bold text-[#7c1fa0] mb-3\">Veri Yönetimi</h3>\n              <div className=\"space-y-2\">\n                <button \n                  onClick={handleDownloadData}\n                  disabled={downloadingData}\n                  className=\"w-full px-4 py-2 bg-[#ee00ee] text-white rounded-lg font-bold hover:bg-[#7c1fa0] transition-colors disabled:opacity-60 flex items-center justify-center gap-2\"\n                >\n                  {downloadingData ? (\n                    <>\n                      <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Veriler İndiriliyor...\n                    </>\n                  ) : (\n                    <>\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                      </svg>\n                      Verilerimi İndir\n                    </>\n                  )}\n                </button>\n                <button className=\"w-full px-4 py-2 bg-red-500 text-white rounded-lg font-bold\">Tüm Verilerimi Sil</button>\n              </div>\n            </div>\n\n            {/* Güvenlik */}\n            <div className=\"mb-6 w-full\">\n              <h3 className=\"text-lg font-bold text-[#7c1fa0] mb-3\">Güvenlik</h3>\n              <button onClick={() => setPasswordModal(true)} className=\"w-full px-4 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] text-white rounded-lg font-bold\">Şifre Değiştir</button>\n            </div>\n\n            {/* Şifre Değiştir Modal */}\n            {passwordModal && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n                <div className=\"bg-white rounded-2xl shadow-2xl p-8 border-2 border-[#ee00ee] max-w-md w-full relative\">\n                  <button onClick={() => setPasswordModal(false)} className=\"absolute top-4 right-4 text-[#ee00ee] text-2xl font-bold hover:text-[#7c1fa0]\">×</button>\n                  <h3 className=\"text-xl font-bold text-[#7c1fa0] mb-4\">Şifre Değiştir</h3>\n                  <input\n                    type=\"password\"\n                    placeholder=\"Yeni Şifre\"\n                    value={passwords.new}\n                    onChange={e => setPasswords({ ...passwords, new: e.target.value })}\n                    className=\"w-full px-4 py-2 rounded-lg border-2 border-[#ee00ee] mb-2 focus:outline-none focus:ring-2 focus:ring-[#ee00ee]\"\n                  />\n                  {passwordError && <div className=\"text-red-500 mb-2\">{passwordError}</div>}\n                  <button onClick={handlePasswordChange} className=\"px-4 py-2 bg-gradient-to-r from-[#ee00ee] to-[#7c1fa0] text-white rounded-lg font-bold w-full\">Kaydet</button>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nfunction SidebarIcon({ icon, label, active, onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      className={`flex items-center gap-4 px-6 py-3 rounded-2xl cursor-pointer transition-all border-2 ${active ? 'bg-[#ee00ee] text-white font-bold shadow-lg border-[#ee00ee]' : 'hover:bg-[#ee00ee]/10 text-[#ee00ee] border-transparent'}`}\n    >\n      <div className={`w-10 h-10 flex items-center justify-center rounded-full ${active ? 'bg-white shadow text-[#ee00ee]' : 'bg-white/60 text-[#ee00ee]'} text-2xl transition-all`}>{icon}</div>\n      <span className=\"text-lg font-medium\">{label}</span>\n    </div>\n  );\n}\n\nfunction AnimatedCard({ children, delay = 0, className = '' }) {\n  return (\n    <div\n      className={`rounded-xl p-6 w-48 flex flex-col items-center shadow-lg hover:scale-110 hover:rotate-3 hover:glow-border hover:shadow-2xl transition-transform cursor-pointer animate-fade-in-up animated-gradient ${className}`}\n      style={{ animationDelay: `${delay}s` }}\n    >\n      {children}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}